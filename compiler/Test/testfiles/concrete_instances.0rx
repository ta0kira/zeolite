// Setup.

@type interface Type<#x|> {
  #x requires Value0
}

@value interface Value0 {}

@value interface Value1<|#y> {
  #y requires Value0
}

@value interface Value2 {
  refines Value0
}

@value interface Value3<|#z> {
  #z defines Type<Value0>
}


// Tests.

concrete Object0 {
  refines Value2 // -> Value0
  defines Type<Object0>
  refines Value1<Object0>
}

concrete Object1 {
  defines Type<Value0>
  refines Value3<Object1>
}
