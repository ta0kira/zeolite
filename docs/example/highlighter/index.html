<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="Generator" content="ZeoliteHighlighter" /><title>Zeolite Code Highlighter - Self Highlighted Code</title></head><body><h1>Zeolite Code Highlighter - Self Highlighted Code</h1>
<p>This file was generated by <a href="https://github.com/ta0kira/zeolite/tree/master/example/highlighter" style="font-family:monospace;">ZeoliteHighlight</a>.</p><hr><h2>example/highlighter/main.0rx</h2>
<pre style="background:#fafffa;">
<span style="color:DarkGray; font-style:italic;">/* -----------------------------------------------------------------------------
Copyright 2023-2024 Kevin P. Barry

Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
----------------------------------------------------------------------------- */</span>

<span style="color:DarkGray; font-style:italic;">// Author: Kevin P. Barry [ta0kira@gmail.com]</span>

<span style="color:Indigo; font-weight:bold;">concrete</span> <span style="color:DarkBlue;">ZeoliteHighlight</span> {
  <span style="color:Indigo; font-weight:bold;">@type</span> run () <span style="color:blue;">-&gt;</span> ()
}

<span style="color:Indigo; font-weight:bold;">define</span> <span style="color:DarkBlue;">ZeoliteHighlight</span> {
  <span style="color:DarkSalmon; font-style:italic;">&dollar;<span style="color:DarkSalmon; font-style:italic; font-weight:bold;">ReadOnlyExcept</span>[]&dollar;</span>

  <span style="color:Indigo; font-weight:bold;">@category</span> <span style="color:DarkBlue;">ZeoliteParseContext</span> zeoliteSourceContext <span style="color:blue;">&lt;-</span> <span style="color:DarkBlue;">ZeoliteParseContext</span>.new()
      .include<span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteWhitespace</span><span style="color:BlueViolet;">&gt;</span>()
      .include<span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteLineComment</span><span style="color:BlueViolet;">&gt;</span>()
      .include<span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteBlockComment</span><span style="color:BlueViolet;">&gt;</span>()
      .include<span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteUpperSymbol</span><span style="color:BlueViolet;">&gt;</span>()
      <span style="color:DarkGray; font-style:italic;">// Must be before ZeoliteLowerSymbol.</span>
      .include<span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteTestcase</span><span style="color:BlueViolet;">&gt;</span>()
      <span style="color:DarkGray; font-style:italic;">// Must be before ZeoliteOperator. (Due to : in labels.)</span>
      .include<span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteLowerSymbol</span><span style="color:BlueViolet;">&gt;</span>()
      .include<span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteScopeQualifier</span><span style="color:BlueViolet;">&gt;</span>()
      <span style="color:DarkGray; font-style:italic;">// Must be before ZeoliteExtras. (Due to \ in escapes.)</span>
      .include<span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteNumber</span><span style="color:BlueViolet;">&gt;</span>()
      .include<span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteOperator</span><span style="color:BlueViolet;">&gt;</span>()
      .include<span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParamName</span><span style="color:BlueViolet;">&gt;</span>()
      .include<span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteStringLiteral</span><span style="color:BlueViolet;">&gt;</span>()
      .include<span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteCharLiteral</span><span style="color:BlueViolet;">&gt;</span>()
      .include<span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteBraceSection</span><span style="color:BlueViolet;">&gt;</span>()
      .include<span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParenSection</span><span style="color:BlueViolet;">&gt;</span>()
      .include<span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteSquareSection</span><span style="color:BlueViolet;">&gt;</span>()
      .include<span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeolitePragma</span><span style="color:BlueViolet;">&gt;</span>()
      .include<span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteExtras</span><span style="color:BlueViolet;">&gt;</span>()

  run () {
    <span style="font-weight:bold;">if</span> (<span style="color:DarkBlue;">Argv</span>.global().size() <span style="color:BlueViolet;">&lt;</span> <span style="color:GoldenRod;">3</span>) {
      \ <span style="color:DarkBlue;">BasicOutput</span>.stderr()
          .append(<span style="color:DarkBlue;">Argv</span>.global().readAt(<span style="color:GoldenRod;">0</span>))
          .append(<span style="color:DeepPink;">&quot; [page title] [.0r? input files]<span style="color:DarkMagenta;">\n</span>&quot;</span>)
      <span style="color:DarkGreen; font-weight:bold;">exit</span>(<span style="color:GoldenRod;">1</span>)
    }
    \ writeHtmlStart(<span style="color:green;">title:</span> <span style="color:DarkBlue;">Argv</span>.global().readAt(<span style="color:GoldenRod;">1</span>))
    <span style="font-weight:bold;">traverse</span> (<span style="color:DarkBlue;">Counter</span>.builder().start(<span style="color:GoldenRod;">2</span>).limit(<span style="color:DarkBlue;">Argv</span>.global().size()).done() <span style="color:blue;">-&gt;</span> <span style="color:DarkBlue; font-weight:bold;">Int</span> i) {
      <span style="color:DarkBlue; font-weight:bold;">String</span> filename <span style="color:blue;">&lt;-</span> <span style="color:DarkBlue;">Argv</span>.global().readAt(i)
      <span style="color:DarkSalmon; font-style:italic;">&dollar;<span style="color:DarkSalmon; font-style:italic; font-weight:bold;">ReadOnly</span>[filename]&dollar;</span>
      <span style="font-weight:bold;">scoped</span> {
        optional <span style="color:DarkBlue; font-weight:bold;">String</span> content <span style="color:blue;">&lt;-</span> loadFile(<span style="color:green;">filename:</span> filename)
      } <span style="font-weight:bold;">in</span> <span style="font-weight:bold;">if</span> (`<span style="color:DarkGreen; font-weight:bold;">present</span>` content) {
        \ processFile(<span style="color:green;">filename:</span> filename, <span style="color:green;">content:</span> `<span style="color:DarkGreen; font-weight:bold;">require</span>` content)
      }
    }
    \ writeHtmlEnd()
  }

  <span style="color:Indigo; font-weight:bold;">@type</span> writeHtmlStart (<span style="color:DarkBlue; font-weight:bold;">String</span> <span style="color:green;">title:</span>) <span style="color:blue;">-&gt;</span> ()
  writeHtmlStart (title) {
    <span style="color:DarkBlue; font-weight:bold;">Formatted</span> escapedTitle <span style="color:blue;">&lt;-</span> <span style="color:DarkBlue;">HtmlContent</span>.escape(<span style="color:green;">content:</span> title)
    <span style="color:DarkGray; font-style:italic;">// TODO: Use HtmlContent to format this stuff?</span>
    \ <span style="color:DarkBlue;">BasicOutput</span>.stdout()
        .append(<span style="color:DeepPink;">&quot;&lt;!DOCTYPE html&gt;&quot;</span>)
        .append(<span style="color:DeepPink;">&quot;&lt;html&gt;&quot;</span>)
        .append(<span style="color:DeepPink;">&quot;&lt;head&gt;&quot;</span>)
        .append(<span style="color:DeepPink;">&quot;&lt;meta http-equiv=<span style="color:DarkMagenta;">\&quot;</span>Content-Type<span style="color:DarkMagenta;">\&quot;</span> content=<span style="color:DarkMagenta;">\&quot;</span>text/html; charset=UTF-8<span style="color:DarkMagenta;">\&quot;</span> /&gt;&quot;</span>)
        .append(<span style="color:DeepPink;">&quot;&lt;meta name=<span style="color:DarkMagenta;">\&quot;</span>Generator<span style="color:DarkMagenta;">\&quot;</span> content=<span style="color:DarkMagenta;">\&quot;</span>ZeoliteHighlighter<span style="color:DarkMagenta;">\&quot;</span> /&gt;&quot;</span>)
        .append(<span style="color:DeepPink;">&quot;&lt;title&gt;&quot;</span>).append(escapedTitle).append(<span style="color:DeepPink;">&quot;&lt;/title&gt;&quot;</span>)
        .append(<span style="color:DeepPink;">&quot;&lt;/head&gt;&quot;</span>)
        .append(<span style="color:DeepPink;">&quot;&lt;body&gt;&quot;</span>)
        .append(<span style="color:DeepPink;">&quot;&lt;h1&gt;&quot;</span>).append(escapedTitle).append(<span style="color:DeepPink;">&quot;&lt;/h1&gt;<span style="color:DarkMagenta;">\n</span>&quot;</span>)
    \ writeCommand()
    \ <span style="color:DarkBlue;">BasicOutput</span>.stdout().append(<span style="color:DeepPink;">&quot;&lt;hr&gt;&quot;</span>)
  }

  <span style="color:Indigo; font-weight:bold;">@type</span> writeCommand () <span style="color:blue;">-&gt;</span> ()
  writeCommand () {
    \ <span style="color:DarkBlue;">BasicOutput</span>.stdout()
        .append(<span style="color:DeepPink;">&quot;&lt;p&gt;This file was generated by &lt;a href=<span style="color:DarkMagenta;">\&quot;</span>https://github.com/ta0kira/zeolite/tree/master/example/highlighter<span style="color:DarkMagenta;">\&quot;</span> style=<span style="color:DarkMagenta;">\&quot;</span>font-family:monospace;<span style="color:DarkMagenta;">\&quot;</span>&gt;ZeoliteHighlight&lt;/a&gt;.&lt;/p&gt;&quot;</span>)
  }

  <span style="color:Indigo; font-weight:bold;">@type</span> writeHtmlEnd () <span style="color:blue;">-&gt;</span> ()
  writeHtmlEnd () {
    \ <span style="color:DarkBlue;">BasicOutput</span>.stdout()
        .append(<span style="color:DeepPink;">&quot;&lt;/body&gt;&quot;</span>)
        .append(<span style="color:DeepPink;">&quot;&lt;/html&gt;&quot;</span>)
  }

  <span style="color:Indigo; font-weight:bold;">@type</span> processFile (<span style="color:DarkBlue; font-weight:bold;">String</span> <span style="color:green;">filename:</span>, <span style="color:DarkBlue; font-weight:bold;">String</span> <span style="color:green;">content:</span>) <span style="color:blue;">-&gt;</span> ()
  processFile (filename, content) {
    <span style="color:DarkBlue;">TextStream</span> input <span style="color:blue;">&lt;-</span> <span style="color:DarkBlue;">TextStream</span>.new(content)
    <span style="color:DarkSalmon; font-style:italic;">&dollar;<span style="color:DarkSalmon; font-style:italic; font-weight:bold;">Hidden</span>[content]&dollar;</span>
    <span style="color:DarkBlue;">DefaultOrder</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;</span> output <span style="color:blue;">&lt;-</span> <span style="font-weight:bold;">defer</span>
    \ <span style="color:DarkBlue;">StreamTokenizer</span>:new(<span style="color:green;">context:</span> zeoliteSourceContext, <span style="color:green;">tokenizer:</span> zeoliteSourceContext.defaultTokenizer())
        .tokenizeAll(input, (output <span style="color:blue;">&lt;-</span> <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()))

    <span style="font-weight:bold;">if</span> (input.atEnd()) {
      \ <span style="color:DarkBlue;">BasicOutput</span>.stderr()
          .append(<span style="color:DeepPink;">&quot;Successfully parsed file &quot;</span>)
          .append(filename)
          .append(<span style="color:DeepPink;">&quot;:<span style="color:DarkMagenta;">\n</span>&quot;</span>)
    } <span style="font-weight:bold;">else</span> {
      \ <span style="color:DarkBlue;">BasicOutput</span>.stderr()
          .append(<span style="color:DeepPink;">&quot;Incomplete parse of file &quot;</span>)
          .append(filename)
          .append(<span style="color:DeepPink;">&quot; at line &quot;</span>)
          .append(input.currentLine())
          .append(<span style="color:DeepPink;">&quot; char &quot;</span>)
          .append(input.currentChar())
          .append(<span style="color:DeepPink;">&quot;:<span style="color:DarkMagenta;">\n</span>&quot;</span>)
    }

    <span style="color:DarkBlue;">ZeoliteHtmlFormatter</span> formatter <span style="color:blue;">&lt;-</span> <span style="color:DarkBlue;">ZeoliteHtmlFormatter</span>.new()
    \ <span style="color:DarkBlue;">BasicOutput</span>.stdout().append(<span style="color:DeepPink;">&quot;&lt;h2&gt;&quot;</span>).append(<span style="color:DarkBlue;">HtmlContent</span>.escape(<span style="color:green;">content:</span> filename)).append(<span style="color:DeepPink;">&quot;&lt;/h2&gt;<span style="color:DarkMagenta;">\n</span>&quot;</span>)
    \ <span style="color:DarkBlue;">BasicOutput</span>.stdout().append(<span style="color:DeepPink;">&quot;&lt;pre style=<span style="color:DarkMagenta;">\&quot;</span>background:&num;fafffa;<span style="color:DarkMagenta;">\&quot;</span>&gt;<span style="color:DarkMagenta;">\n</span>&quot;</span>)
    <span style="font-weight:bold;">traverse</span> (output.defaultOrder() <span style="color:blue;">-&gt;</span> <span style="color:DarkBlue;">ZeoliteParsed</span> parsed) {
      \ <span style="color:DarkBlue;">BasicOutput</span>.stdout().append(parsed.formatWith(formatter))
    }
    \ <span style="color:DarkBlue;">BasicOutput</span>.stdout().append(<span style="color:DeepPink;">&quot;&lt;/pre&gt;<span style="color:DarkMagenta;">\n</span>&quot;</span>)
  }

  <span style="color:Indigo; font-weight:bold;">@type</span> loadFile (<span style="color:DarkBlue; font-weight:bold;">String</span> <span style="color:green;">filename:</span>) <span style="color:blue;">-&gt;</span> (optional <span style="color:DarkBlue; font-weight:bold;">String</span>)
  loadFile (filename) {
    \ <span style="color:DarkBlue;">BasicOutput</span>.stderr()
        .append(<span style="color:DeepPink;">&quot;Reading file &quot;</span>)
        .append(filename)
        .append(<span style="color:DeepPink;">&quot;...<span style="color:DarkMagenta;">\n</span>&quot;</span>)
    <span style="font-weight:bold;">scoped</span> {
      <span style="color:DarkBlue;">RawFileReader</span> input <span style="color:blue;">&lt;-</span> <span style="color:DarkBlue;">RawFileReader</span>.open(filename)
    } <span style="font-weight:bold;">cleanup</span> {
      \ input.freeResource()
    } <span style="font-weight:bold;">in</span> <span style="font-weight:bold;">if</span> (`<span style="color:DarkGreen; font-weight:bold;">present</span>` input.getFileError()) {
      \ <span style="color:DarkBlue;">BasicOutput</span>.stderr()
          .append(<span style="color:DeepPink;">&quot;Error reading file &quot;</span>)
          .append(filename)
          .append(<span style="color:DeepPink;">&quot;: &quot;</span>)
          .append(`<span style="color:DarkGreen; font-weight:bold;">require</span>` input.getFileError())
          .append(<span style="color:DeepPink;">&quot;<span style="color:DarkMagenta;">\n</span>&quot;</span>)
      <span style="font-weight:bold;">return</span> <span style="color:DarkCyan; font-weight:bold;">empty</span>
    } <span style="font-weight:bold;">else</span> {
      <span style="font-weight:bold;">return</span> <span style="color:DarkBlue;">TextReader</span>.readAll(input)
    }
  }
}
</pre>
<h2>example/highlighter/src/html.0rp</h2>
<pre style="background:#fafffa;">
<span style="color:DarkGray; font-style:italic;">/* -----------------------------------------------------------------------------
Copyright 2024 Kevin P. Barry

Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
----------------------------------------------------------------------------- */</span>

<span style="color:DarkGray; font-style:italic;">// Author: Kevin P. Barry [ta0kira@gmail.com]</span>

<span style="color:DarkSalmon; font-style:italic;">&dollar;<span style="color:DarkSalmon; font-style:italic; font-weight:bold;">ModuleOnly</span>&dollar;</span>

<span style="color:Indigo; font-weight:bold;">concrete</span> <span style="color:DarkBlue;">HtmlContent</span> {
  refines <span style="color:DarkBlue; font-weight:bold;">Formatted</span>

  <span style="color:Indigo; font-weight:bold;">@type</span> section (<span style="color:DarkBlue; font-weight:bold;">String</span> <span style="color:green;">open:</span>, <span style="color:DarkBlue; font-weight:bold;">String</span> <span style="color:green;">close:</span>) <span style="color:blue;">-&gt;</span> ([<span style="color:DarkBlue; font-weight:bold;">Append</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">HtmlContent</span><span style="color:BlueViolet;">&gt;</span> <span style="color:BlueViolet;">&amp;</span> <span style="color:DarkBlue; font-weight:bold;">Build</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">HtmlContent</span><span style="color:BlueViolet;">&gt;</span>])
  <span style="color:Indigo; font-weight:bold;">@type</span> tag (<span style="color:DarkBlue; font-weight:bold;">String</span> <span style="color:green;">name:</span>) <span style="color:blue;">-&gt;</span> (<span style="color:DarkBlue;">HtmlContent</span>)
  <span style="color:Indigo; font-weight:bold;">@type</span> escape (<span style="color:DarkBlue; font-weight:bold;">String</span> <span style="color:green;">content:</span>) <span style="color:blue;">-&gt;</span> (<span style="color:DarkBlue;">HtmlContent</span>)
  <span style="color:Indigo; font-weight:bold;">@type</span> raw (<span style="color:DarkBlue; font-weight:bold;">String</span> <span style="color:green;">verified:</span>) <span style="color:blue;">-&gt;</span> (<span style="color:DarkBlue;">HtmlContent</span>)
}

<span style="color:Indigo; font-weight:bold;">concrete</span> <span style="color:DarkBlue;">ZeoliteHtmlFormatter</span> {
  refines <span style="color:DarkBlue;">TokenFormatter</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">String</span>, <span style="color:DarkBlue; font-weight:bold;">String</span>, <span style="color:DarkBlue;">HtmlContent</span><span style="color:BlueViolet;">&gt;</span>

  <span style="color:Indigo; font-weight:bold;">@type</span> new () <span style="color:blue;">-&gt;</span> (<span style="color:DarkBlue;">ZeoliteHtmlFormatter</span>)
}
</pre>
<h2>example/highlighter/src/html.0rx</h2>
<pre style="background:#fafffa;">
<span style="color:DarkGray; font-style:italic;">/* -----------------------------------------------------------------------------
Copyright 2024 Kevin P. Barry

Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
----------------------------------------------------------------------------- */</span>

<span style="color:DarkGray; font-style:italic;">// Author: Kevin P. Barry [ta0kira@gmail.com]</span>

<span style="color:Indigo; font-weight:bold;">define</span> <span style="color:DarkBlue;">HtmlContent</span> {
  <span style="color:DarkSalmon; font-style:italic;">&dollar;<span style="color:DarkSalmon; font-style:italic; font-weight:bold;">ReadOnlyExcept</span>[]&dollar;</span>

  <span style="color:Indigo; font-weight:bold;">@category</span> <span style="color:DarkBlue;">KVReader</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">Char</span>, <span style="color:DarkBlue; font-weight:bold;">String</span><span style="color:BlueViolet;">&gt;</span> charEscapes <span style="color:blue;">&lt;-</span> <span style="color:DarkBlue;">HashedMap</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">Char</span>, <span style="color:DarkBlue; font-weight:bold;">String</span><span style="color:BlueViolet;">&gt;.</span>new()
      .set(<span style="color:DarkViolet;">&apos;&quot;&apos;</span>, <span style="color:DeepPink;">&quot;&amp;quot;&quot;</span>)
      .set(<span style="color:DarkViolet;">&apos;&num;&apos;</span>, <span style="color:DeepPink;">&quot;&amp;num;&quot;</span>)
      .set(<span style="color:DarkViolet;">&apos;&dollar;&apos;</span>, <span style="color:DeepPink;">&quot;&amp;dollar;&quot;</span>)
      .set(<span style="color:DarkViolet;">&apos;&percnt;&apos;</span>, <span style="color:DeepPink;">&quot;&amp;percnt;&quot;</span>)
      .set(<span style="color:DarkViolet;">&apos;&amp;&apos;</span>, <span style="color:DeepPink;">&quot;&amp;amp;&quot;</span>)
      .set(<span style="color:DarkViolet;">&apos;<span style="color:DarkMagenta;">\&apos;</span>&apos;</span>, <span style="color:DeepPink;">&quot;&amp;apos;&quot;</span>)
      .set(<span style="color:DarkViolet;">&apos;&lt;&apos;</span>, <span style="color:DeepPink;">&quot;&amp;lt;&quot;</span>)
      .set(<span style="color:DarkViolet;">&apos;&gt;&apos;</span>, <span style="color:DeepPink;">&quot;&amp;gt;&quot;</span>)

  <span style="color:Indigo; font-weight:bold;">@value</span> <span style="color:DarkBlue; font-weight:bold;">String</span> content

  formatted () {
    <span style="font-weight:bold;">return</span> content
  }

  section (open, close) {
    <span style="font-weight:bold;">return</span> <span style="font-weight:bold;">delegate</span> <span style="color:blue;">-&gt;</span> `<span style="color:DarkBlue;">HtmlSectionBuilder</span>.new`
  }

  tag (name) {
    <span style="font-weight:bold;">return</span> <span style="color:DarkBlue; font-weight:bold;">&num;self</span>{ <span style="color:DarkBlue; font-weight:bold;">String</span>.builder()
      .append(<span style="color:DeepPink;">&quot;&lt;&quot;</span>)
      .append(name)
      .append(<span style="color:DeepPink;">&quot; /&gt;&quot;</span>)
      .build() }
  }

  escape (content) {
    [<span style="color:DarkBlue; font-weight:bold;">Append</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">Formatted</span><span style="color:BlueViolet;">&gt;</span> <span style="color:BlueViolet;">&amp;</span> <span style="color:DarkBlue; font-weight:bold;">Build</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">String</span><span style="color:BlueViolet;">&gt;</span>] builder <span style="color:blue;">&lt;-</span> <span style="color:DarkBlue; font-weight:bold;">String</span>.builder()
    <span style="font-weight:bold;">traverse</span> (content.defaultOrder() <span style="color:blue;">-&gt;</span> <span style="color:DarkBlue; font-weight:bold;">Char</span> c) {
      <span style="font-weight:bold;">scoped</span> {
        optional <span style="color:DarkBlue; font-weight:bold;">String</span> replacement <span style="color:blue;">&lt;-</span> charEscapes.get(c)
      } <span style="font-weight:bold;">in</span> <span style="font-weight:bold;">if</span> (`<span style="color:DarkGreen; font-weight:bold;">present</span>` replacement) {
        \ builder.append(`<span style="color:DarkGreen; font-weight:bold;">require</span>` replacement)
      } <span style="font-weight:bold;">else</span> {
        \ builder.append(c)
      }
    }
    <span style="font-weight:bold;">return</span> <span style="color:DarkBlue; font-weight:bold;">&num;self</span>{ builder.build() }
  }

  raw (verified) {
    <span style="font-weight:bold;">return</span> <span style="color:DarkBlue; font-weight:bold;">&num;self</span>{ verified }
  }
}

<span style="color:Indigo; font-weight:bold;">define</span> <span style="color:DarkBlue;">ZeoliteHtmlFormatter</span> {
  <span style="color:DarkSalmon; font-style:italic;">&dollar;<span style="color:DarkSalmon; font-style:italic; font-weight:bold;">ReadOnlyExcept</span>[]&dollar;</span>

  <span style="color:Indigo; font-weight:bold;">@category</span> <span style="color:DarkBlue;">KVReader</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">String</span>, <span style="color:DarkBlue; font-weight:bold;">String</span><span style="color:BlueViolet;">&gt;</span> labelToStyle <span style="color:blue;">&lt;-</span> <span style="color:DarkBlue;">HashedMap</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">String</span>, <span style="color:DarkBlue; font-weight:bold;">String</span><span style="color:BlueViolet;">&gt;.</span>new()
      .set(<span style="color:DeepPink;">&quot;ZeoliteError&quot;</span>, <span style="color:DeepPink;">&quot;color:red; font-weight:bold; text-decoration:underline;&quot;</span>)

      .set(<span style="color:DeepPink;">&quot;ZeoliteBlockComment&quot;</span>, <span style="color:DeepPink;">&quot;color:DarkGray; font-style:italic;&quot;</span>)
      .set(<span style="color:DeepPink;">&quot;ZeoliteLineComment&quot;</span>, <span style="color:DeepPink;">&quot;color:DarkGray; font-style:italic;&quot;</span>)
      .set(<span style="color:DeepPink;">&quot;ZeolitePragma&quot;</span>, <span style="color:DeepPink;">&quot;color:DarkSalmon; font-style:italic;&quot;</span>)
      .set(<span style="color:DeepPink;">&quot;ZeolitePragmaName&quot;</span>, <span style="color:DeepPink;">&quot;color:DarkSalmon; font-style:italic; font-weight:bold;&quot;</span>)

      .set(<span style="color:DeepPink;">&quot;ZeoliteArgLabel&quot;</span>, <span style="color:DeepPink;">&quot;color:green;&quot;</span>)
      .set(<span style="color:DeepPink;">&quot;ZeoliteAssignment&quot;</span>, <span style="color:DeepPink;">&quot;color:blue;&quot;</span>)

      .set(<span style="color:DeepPink;">&quot;ZeoliteBuiltinCategory&quot;</span>, <span style="color:DeepPink;">&quot;color:DarkBlue; font-weight:bold;&quot;</span>)
      .set(<span style="color:DeepPink;">&quot;ZeoliteBuiltinConstant&quot;</span>, <span style="color:DeepPink;">&quot;color:DarkCyan; font-weight:bold;&quot;</span>)
      .set(<span style="color:DeepPink;">&quot;ZeoliteBuiltinFunction&quot;</span>, <span style="color:DeepPink;">&quot;color:DarkGreen; font-weight:bold;&quot;</span>)
      .set(<span style="color:DeepPink;">&quot;ZeoliteBuiltinParam&quot;</span>, <span style="color:DeepPink;">&quot;color:DarkBlue; font-weight:bold;&quot;</span>)
      .set(<span style="color:DeepPink;">&quot;ZeoliteCategoryName&quot;</span>, <span style="color:DeepPink;">&quot;color:DarkBlue;&quot;</span>)
      .set(<span style="color:DeepPink;">&quot;ZeoliteParamName&quot;</span>, <span style="color:DeepPink;">&quot;color:DarkBlue;&quot;</span>)

      .set(<span style="color:DeepPink;">&quot;ZeoliteCharLiteral&quot;</span>, <span style="color:DeepPink;">&quot;color:DarkViolet;&quot;</span>)
      .set(<span style="color:DeepPink;">&quot;ZeoliteStringLiteral&quot;</span>, <span style="color:DeepPink;">&quot;color:DeepPink;&quot;</span>)
      .set(<span style="color:DeepPink;">&quot;ZeoliteEscapedChar&quot;</span>, <span style="color:DeepPink;">&quot;color:DarkMagenta;&quot;</span>)

      .set(<span style="color:DeepPink;">&quot;ZeoliteNumber&quot;</span>, <span style="color:DeepPink;">&quot;color:GoldenRod;&quot;</span>)
      .set(<span style="color:DeepPink;">&quot;ZeoliteEscapedNumber&quot;</span>, <span style="color:DeepPink;">&quot;color:DarkMagenta;&quot;</span>)

      .set(<span style="color:DeepPink;">&quot;ZeoliteContainKeyword&quot;</span>, <span style="color:DeepPink;">&quot;color:Indigo; font-weight:bold;&quot;</span>)
      .set(<span style="color:DeepPink;">&quot;ZeoliteScopeQualifier&quot;</span>, <span style="color:DeepPink;">&quot;color:Indigo; font-weight:bold;&quot;</span>)
      .set(<span style="color:DeepPink;">&quot;ZeoliteControlKeyword&quot;</span>, <span style="color:DeepPink;">&quot;font-weight:bold;&quot;</span>)
      .set(<span style="color:DeepPink;">&quot;ZeoliteOperator&quot;</span>, <span style="color:DeepPink;">&quot;color:BlueViolet;&quot;</span>)

      .set(<span style="color:DeepPink;">&quot;ZeoliteTestcase&quot;</span>, <span style="color:DeepPink;">&quot;background:PaleTurquoise;&quot;</span>)
      .set(<span style="color:DeepPink;">&quot;ZeoliteTestcaseKeyword&quot;</span>, <span style="color:DeepPink;">&quot;color:green;&quot;</span>)

  <span style="color:Indigo; font-weight:bold;">@category</span> <span style="color:DarkBlue;">SetReader</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">String</span><span style="color:BlueViolet;">&gt;</span> labelsUsingDefault <span style="color:blue;">&lt;-</span> <span style="color:DarkBlue;">HashedSet</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">String</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DeepPink;">&quot;ZeoliteBraceSection&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;ZeoliteCloseDelim&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;ZeoliteComma&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;ZeoliteDiscard&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;ZeoliteDoubleQuote&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;ZeoliteFunctionCall&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;ZeoliteFunctionOrVariableName&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;ZeoliteIgnore&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;ZeoliteOpenDelim&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;ZeoliteParenSection&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;ZeolitePragmaArg&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;ZeolitePragmaArgClose&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;ZeolitePragmaArgOpen&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;ZeolitePragmaDelim&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;ZeoliteQuotedChars&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;ZeoliteSingleQuote&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;ZeoliteSquareSection&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;ZeoliteStorageKeyword&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;ZeoliteTestcaseSection&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;ZeoliteTick&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;ZeoliteTypeKeyword&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;ZeoliteWhitespace&quot;</span>)


  new () {
    <span style="font-weight:bold;">return</span> <span style="font-weight:bold;">delegate</span> <span style="color:blue;">-&gt;</span> <span style="color:DarkBlue; font-weight:bold;">&num;self</span>
  }

  formatLeaf (label, value) {
    <span style="font-weight:bold;">scoped</span> {
      optional <span style="color:DarkBlue; font-weight:bold;">String</span> style <span style="color:blue;">&lt;-</span> getStyle(label)
    } <span style="font-weight:bold;">in</span> <span style="font-weight:bold;">if</span> (`<span style="color:DarkGreen; font-weight:bold;">present</span>` style) {
      <span style="font-weight:bold;">return</span> <span style="color:DarkBlue;">HtmlContent</span>
          .section(<span style="color:green;">open:</span> buildSpanTag(`<span style="color:DarkGreen; font-weight:bold;">require</span>` style), <span style="color:green;">close:</span> <span style="color:DeepPink;">&quot;&lt;/span&gt;&quot;</span>)
          .append(<span style="color:DarkBlue;">HtmlContent</span>.escape(<span style="color:green;">content:</span> value))
          .build()
    } <span style="font-weight:bold;">else</span> {
      <span style="font-weight:bold;">return</span> <span style="color:DarkBlue;">HtmlContent</span>.escape(<span style="color:green;">content:</span> value)
    }
  }

  createSection (label) {
    <span style="font-weight:bold;">scoped</span> {
      optional <span style="color:DarkBlue; font-weight:bold;">String</span> style <span style="color:blue;">&lt;-</span> getStyle(label)
    } <span style="font-weight:bold;">in</span> <span style="font-weight:bold;">if</span> (`<span style="color:DarkGreen; font-weight:bold;">present</span>` style) {
      <span style="font-weight:bold;">return</span> <span style="color:DarkBlue;">HtmlContent</span>.section(<span style="color:green;">open:</span> buildSpanTag(`<span style="color:DarkGreen; font-weight:bold;">require</span>` style), <span style="color:green;">close:</span> <span style="color:DeepPink;">&quot;&lt;/span&gt;&quot;</span>)
    } <span style="font-weight:bold;">else</span> {
      <span style="font-weight:bold;">return</span> <span style="color:DarkBlue;">HtmlContent</span>.section(<span style="color:green;">open:</span> <span style="color:DeepPink;">&quot;&quot;</span>, <span style="color:green;">close:</span> <span style="color:DeepPink;">&quot;&quot;</span>)
    }
  }

  <span style="color:Indigo; font-weight:bold;">@type</span> getStyle (<span style="color:DarkBlue; font-weight:bold;">String</span>) <span style="color:blue;">-&gt;</span> (optional <span style="color:DarkBlue; font-weight:bold;">String</span>)
  getStyle (label) (style) {
    style <span style="color:blue;">&lt;-</span> labelToStyle.get(label)
    <span style="font-weight:bold;">if</span> (<span style="color:BlueViolet;">!</span> `<span style="color:DarkGreen; font-weight:bold;">present</span>` style <span style="color:BlueViolet;">&amp;&amp;</span> <span style="color:BlueViolet;">!</span> labelsUsingDefault.member(label)) {
      \ <span style="color:DarkBlue;">BasicOutput</span>.stderr()
          .append(<span style="color:DeepPink;">&quot;HTML style for label <span style="color:DarkMagenta;">\&quot;</span>&quot;</span>)
          .append(label)
          .append(<span style="color:DeepPink;">&quot;<span style="color:DarkMagenta;">\&quot;</span> not found!<span style="color:DarkMagenta;">\n</span>&quot;</span>)
    }
  }

  <span style="color:Indigo; font-weight:bold;">@type</span> buildSpanTag (<span style="color:DarkBlue; font-weight:bold;">String</span>) <span style="color:blue;">-&gt;</span> (<span style="color:DarkBlue; font-weight:bold;">String</span>)
  buildSpanTag (style) {
    <span style="font-weight:bold;">return</span> <span style="color:DarkBlue; font-weight:bold;">String</span>.builder()
        .append(<span style="color:DeepPink;">&quot;&lt;span style=<span style="color:DarkMagenta;">\&quot;</span>&quot;</span>)
        .append(style)
        .append(<span style="color:DeepPink;">&quot;<span style="color:DarkMagenta;">\&quot;</span>&gt;&quot;</span>)
        .build()
  }
}

<span style="color:Indigo; font-weight:bold;">concrete</span> <span style="color:DarkBlue;">HtmlSectionBuilder</span> {
  refines <span style="color:DarkBlue; font-weight:bold;">Append</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">HtmlContent</span><span style="color:BlueViolet;">&gt;</span>
  refines <span style="color:DarkBlue; font-weight:bold;">Build</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">HtmlContent</span><span style="color:BlueViolet;">&gt;</span>

  <span style="color:Indigo; font-weight:bold;">@type</span> new (<span style="color:DarkBlue; font-weight:bold;">String</span> <span style="color:green;">open:</span>, <span style="color:DarkBlue; font-weight:bold;">String</span> <span style="color:green;">close:</span>) <span style="color:blue;">-&gt;</span> (<span style="color:DarkBlue;">HtmlSectionBuilder</span>)
}

<span style="color:Indigo; font-weight:bold;">define</span> <span style="color:DarkBlue;">HtmlSectionBuilder</span> {
  <span style="color:DarkSalmon; font-style:italic;">&dollar;<span style="color:DarkSalmon; font-style:italic; font-weight:bold;">ReadOnlyExcept</span>[]&dollar;</span>

  <span style="color:Indigo; font-weight:bold;">@value</span> [<span style="color:DarkBlue; font-weight:bold;">Append</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">Formatted</span><span style="color:BlueViolet;">&gt;</span> <span style="color:BlueViolet;">&amp;</span> <span style="color:DarkBlue; font-weight:bold;">Build</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">String</span><span style="color:BlueViolet;">&gt;</span>] content
  <span style="color:Indigo; font-weight:bold;">@value</span> <span style="color:DarkBlue; font-weight:bold;">String</span> close

  new (open, close) {
    <span style="font-weight:bold;">return</span> <span style="color:DarkBlue; font-weight:bold;">&num;self</span>{ <span style="color:DarkBlue; font-weight:bold;">String</span>.builder().append(open), close }
  }

  append (newContent) {
    \ <span style="font-weight:bold;">delegate</span> <span style="color:blue;">-&gt;</span> `content.append`
    <span style="font-weight:bold;">return</span> <span style="color:DarkCyan; font-weight:bold;">self</span>
  }

  build () {
    <span style="color:DarkGray; font-style:italic;">// We need a new builder so that we don&apos;t append close multiple times.</span>
    <span style="font-weight:bold;">return</span> <span style="color:DarkBlue;">HtmlContent</span>.raw(<span style="color:green;">verified:</span> <span style="color:DarkBlue; font-weight:bold;">String</span>.builder()
        .append(content.build())
        .append(close)
        .build())
  }
}
</pre>
<h2>example/highlighter/src/tokenizer.0rp</h2>
<pre style="background:#fafffa;">
<span style="color:DarkGray; font-style:italic;">/* -----------------------------------------------------------------------------
Copyright 2023-2024 Kevin P. Barry

Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
----------------------------------------------------------------------------- */</span>

<span style="color:DarkGray; font-style:italic;">// Author: Kevin P. Barry [ta0kira@gmail.com]</span>

<span style="color:DarkSalmon; font-style:italic;">&dollar;<span style="color:DarkSalmon; font-style:italic; font-weight:bold;">ModuleOnly</span>&dollar;</span>

<span style="color:DarkGray; font-style:italic;">// Tokenizes with context &num;c and generates values of type &num;v.</span>
<span style="color:Indigo; font-weight:bold;">@value</span> <span style="color:Indigo; font-weight:bold;">interface</span> <span style="color:DarkBlue;">Tokenizer</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">&num;c</span><span style="color:BlueViolet;">|</span><span style="color:DarkBlue;">&num;v</span><span style="color:BlueViolet;">&gt;</span> {
  tokenize (<span style="color:DarkBlue;">TextStream</span>, <span style="color:DarkBlue;">&num;c</span>) <span style="color:blue;">-&gt;</span> (optional <span style="color:DarkBlue;">&num;v</span>)
}

<span style="color:DarkGray; font-style:italic;">// Supports generic formatting based on label type &num;l and content type &num;x.</span>
<span style="color:Indigo; font-weight:bold;">@value</span> <span style="color:Indigo; font-weight:bold;">interface</span> <span style="color:DarkBlue;">FormattedToken</span><span style="color:BlueViolet;">&lt;|</span><span style="color:DarkBlue;">&num;l</span>, <span style="color:DarkBlue;">&num;x</span><span style="color:BlueViolet;">&gt;</span> {
  formatWith<span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">&num;f</span><span style="color:BlueViolet;">&gt;</span> (<span style="color:DarkBlue;">TokenFormatter</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">&num;l</span>, <span style="color:DarkBlue;">&num;x</span>, <span style="color:DarkBlue;">&num;f</span><span style="color:BlueViolet;">&gt;</span>) <span style="color:blue;">-&gt;</span> (<span style="color:DarkBlue;">&num;f</span>)
}

<span style="color:DarkGray; font-style:italic;">// Generates &num;f values by formatting with label type &num;l and content type &num;x.</span>
<span style="color:Indigo; font-weight:bold;">@value</span> <span style="color:Indigo; font-weight:bold;">interface</span> <span style="color:DarkBlue;">TokenFormatter</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">&num;l</span>, <span style="color:DarkBlue;">&num;x</span><span style="color:BlueViolet;">|</span><span style="color:DarkBlue;">&num;f</span><span style="color:BlueViolet;">|&gt;</span> {
  formatLeaf (<span style="color:DarkBlue;">&num;l</span> <span style="color:green;">label:</span>, <span style="color:DarkBlue;">&num;x</span> <span style="color:green;">value:</span>) <span style="color:blue;">-&gt;</span> (<span style="color:DarkBlue;">&num;f</span>)
  createSection (<span style="color:DarkBlue;">&num;l</span> <span style="color:green;">label:</span>) <span style="color:blue;">-&gt;</span> ([<span style="color:DarkBlue; font-weight:bold;">Append</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">&num;f</span><span style="color:BlueViolet;">&gt;</span> <span style="color:BlueViolet;">&amp;</span> <span style="color:DarkBlue; font-weight:bold;">Build</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">&num;f</span><span style="color:BlueViolet;">&gt;</span>])
}

<span style="color:DarkGray; font-style:italic;">// Input adapter for parsing text input.</span>
<span style="color:Indigo; font-weight:bold;">concrete</span> <span style="color:DarkBlue;">TextStream</span> {
  <span style="color:Indigo; font-weight:bold;">@type</span> new (<span style="color:DarkBlue; font-weight:bold;">String</span>) <span style="color:blue;">-&gt;</span> (<span style="color:DarkBlue;">TextStream</span>)

  <span style="color:Indigo; font-weight:bold;">@value</span> current     () <span style="color:blue;">-&gt;</span> (optional <span style="color:DarkBlue; font-weight:bold;">Char</span>)
  <span style="color:Indigo; font-weight:bold;">@value</span> tokenSize   () <span style="color:blue;">-&gt;</span> (<span style="color:DarkBlue; font-weight:bold;">Int</span>)
  <span style="color:Indigo; font-weight:bold;">@value</span> preview     () <span style="color:blue;">-&gt;</span> (<span style="color:DarkBlue; font-weight:bold;">String</span>)
  <span style="color:Indigo; font-weight:bold;">@value</span> currentLine () <span style="color:blue;">-&gt;</span> (<span style="color:DarkBlue; font-weight:bold;">Int</span>)
  <span style="color:Indigo; font-weight:bold;">@value</span> currentChar () <span style="color:blue;">-&gt;</span> (<span style="color:DarkBlue; font-weight:bold;">Int</span>)
  <span style="color:Indigo; font-weight:bold;">@value</span> atEnd       () <span style="color:blue;">-&gt;</span> (<span style="color:DarkBlue; font-weight:bold;">Bool</span>)

  <span style="color:Indigo; font-weight:bold;">@value</span> forward () <span style="color:blue;">-&gt;</span> (<span style="color:DarkBlue;">TextStream</span>)
  <span style="color:Indigo; font-weight:bold;">@value</span> reset   () <span style="color:blue;">-&gt;</span> (<span style="color:DarkBlue;">TextStream</span>)
  <span style="color:Indigo; font-weight:bold;">@value</span> take    () <span style="color:blue;">-&gt;</span> (<span style="color:DarkBlue; font-weight:bold;">String</span>)
}

<span style="color:DarkGray; font-style:italic;">// Tokenizes all content in a TextStream.</span>
<span style="color:Indigo; font-weight:bold;">concrete</span> <span style="color:DarkBlue;">StreamTokenizer</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">&num;c</span><span style="color:BlueViolet;">|</span><span style="color:DarkBlue;">&num;v</span><span style="color:BlueViolet;">&gt;</span> {
  <span style="color:Indigo; font-weight:bold;">@category</span> new<span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">&num;c</span>, <span style="color:DarkBlue;">&num;v</span><span style="color:BlueViolet;">&gt;</span>  (<span style="color:DarkBlue;">&num;c</span> <span style="color:green;">context:</span>, <span style="color:DarkBlue;">Tokenizer</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">&num;c</span>, <span style="color:DarkBlue;">&num;v</span><span style="color:BlueViolet;">&gt;</span> <span style="color:green;">tokenizer:</span>) <span style="color:blue;">-&gt;</span> (<span style="color:DarkBlue;">StreamTokenizer</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">&num;c</span>, <span style="color:DarkBlue;">&num;v</span><span style="color:BlueViolet;">&gt;</span>)

  <span style="color:Indigo; font-weight:bold;">@value</span> tokenizeAll (<span style="color:DarkBlue;">TextStream</span>, <span style="color:DarkBlue; font-weight:bold;">Append</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">&num;v</span><span style="color:BlueViolet;">&gt;</span>) <span style="color:blue;">-&gt;</span> (<span style="color:DarkBlue; font-weight:bold;">&num;self</span>)
}

<span style="color:DarkGray; font-style:italic;">// Serializes parsed data without formatting.</span>
<span style="color:Indigo; font-weight:bold;">concrete</span> <span style="color:DarkBlue;">UnformattedFormatter</span> {
  refines <span style="color:DarkBlue;">TokenFormatter</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">any</span>, <span style="color:DarkBlue; font-weight:bold;">Formatted</span>, <span style="color:DarkBlue; font-weight:bold;">String</span><span style="color:BlueViolet;">&gt;</span>

  <span style="color:Indigo; font-weight:bold;">@type</span> new () <span style="color:blue;">-&gt;</span> (<span style="color:DarkBlue; font-weight:bold;">&num;self</span>)
}

<span style="color:DarkGray; font-style:italic;">// Helpers for reasoning about Char values.</span>
<span style="color:Indigo; font-weight:bold;">concrete</span> <span style="color:DarkBlue;">CharType</span> {
  <span style="color:Indigo; font-weight:bold;">@type</span> lower      (<span style="color:DarkBlue; font-weight:bold;">Char</span>) <span style="color:blue;">-&gt;</span> (<span style="color:DarkBlue; font-weight:bold;">Bool</span>)
  <span style="color:Indigo; font-weight:bold;">@type</span> upper      (<span style="color:DarkBlue; font-weight:bold;">Char</span>) <span style="color:blue;">-&gt;</span> (<span style="color:DarkBlue; font-weight:bold;">Bool</span>)
  <span style="color:Indigo; font-weight:bold;">@type</span> digit      (<span style="color:DarkBlue; font-weight:bold;">Char</span>) <span style="color:blue;">-&gt;</span> (<span style="color:DarkBlue; font-weight:bold;">Bool</span>)
  <span style="color:Indigo; font-weight:bold;">@type</span> binDigit   (<span style="color:DarkBlue; font-weight:bold;">Char</span>) <span style="color:blue;">-&gt;</span> (<span style="color:DarkBlue; font-weight:bold;">Bool</span>)
  <span style="color:Indigo; font-weight:bold;">@type</span> octDigit   (<span style="color:DarkBlue; font-weight:bold;">Char</span>) <span style="color:blue;">-&gt;</span> (<span style="color:DarkBlue; font-weight:bold;">Bool</span>)
  <span style="color:Indigo; font-weight:bold;">@type</span> hexDigit   (<span style="color:DarkBlue; font-weight:bold;">Char</span>) <span style="color:blue;">-&gt;</span> (<span style="color:DarkBlue; font-weight:bold;">Bool</span>)
  <span style="color:Indigo; font-weight:bold;">@type</span> alphaNum   (<span style="color:DarkBlue; font-weight:bold;">Char</span>) <span style="color:blue;">-&gt;</span> (<span style="color:DarkBlue; font-weight:bold;">Bool</span>)
  <span style="color:Indigo; font-weight:bold;">@type</span> whitespace (<span style="color:DarkBlue; font-weight:bold;">Char</span>) <span style="color:blue;">-&gt;</span> (<span style="color:DarkBlue; font-weight:bold;">Bool</span>)

  <span style="color:Indigo; font-weight:bold;">@type</span> binChars () <span style="color:blue;">-&gt;</span> (<span style="color:DarkBlue;">SetReader</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">Char</span><span style="color:BlueViolet;">&gt;</span>)
  <span style="color:Indigo; font-weight:bold;">@type</span> octChars () <span style="color:blue;">-&gt;</span> (<span style="color:DarkBlue;">SetReader</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">Char</span><span style="color:BlueViolet;">&gt;</span>)
  <span style="color:Indigo; font-weight:bold;">@type</span> decChars () <span style="color:blue;">-&gt;</span> (<span style="color:DarkBlue;">SetReader</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">Char</span><span style="color:BlueViolet;">&gt;</span>)
  <span style="color:Indigo; font-weight:bold;">@type</span> hexChars () <span style="color:blue;">-&gt;</span> (<span style="color:DarkBlue;">SetReader</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">Char</span><span style="color:BlueViolet;">&gt;</span>)

  <span style="color:Indigo; font-weight:bold;">@type</span> oneOf (<span style="color:DarkBlue; font-weight:bold;">Char</span>, <span style="color:DarkBlue;">DefaultOrder</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">Char</span><span style="color:BlueViolet;">&gt;</span>) <span style="color:blue;">-&gt;</span> (<span style="color:DarkBlue; font-weight:bold;">Bool</span>)

  <span style="color:Indigo; font-weight:bold;">@type</span> escapeBreaks (<span style="color:DarkBlue;">DefaultOrder</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">Char</span><span style="color:BlueViolet;">&gt;</span>) <span style="color:blue;">-&gt;</span> (<span style="color:DarkBlue; font-weight:bold;">String</span>)
}
</pre>
<h2>example/highlighter/src/tokenizer.0rx</h2>
<pre style="background:#fafffa;">
<span style="color:DarkGray; font-style:italic;">/* -----------------------------------------------------------------------------
Copyright 2023-2024 Kevin P. Barry

Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
----------------------------------------------------------------------------- */</span>

<span style="color:DarkGray; font-style:italic;">// Author: Kevin P. Barry [ta0kira@gmail.com]</span>

<span style="color:Indigo; font-weight:bold;">define</span> <span style="color:DarkBlue;">TextStream</span> {
  <span style="color:DarkSalmon; font-style:italic;">&dollar;<span style="color:DarkSalmon; font-style:italic; font-weight:bold;">ReadOnly</span>[source]&dollar;</span>

  <span style="color:Indigo; font-weight:bold;">@value</span> <span style="color:DarkBlue; font-weight:bold;">String</span> source
  <span style="color:Indigo; font-weight:bold;">@value</span> <span style="color:DarkBlue; font-weight:bold;">Int</span> tokenStart
  <span style="color:Indigo; font-weight:bold;">@value</span> <span style="color:DarkBlue; font-weight:bold;">Int</span> tokenEnd
  <span style="color:Indigo; font-weight:bold;">@value</span> <span style="color:DarkBlue; font-weight:bold;">Int</span> currentLine
  <span style="color:Indigo; font-weight:bold;">@value</span> <span style="color:DarkBlue; font-weight:bold;">Int</span> currentChar

  new (source) {
    <span style="font-weight:bold;">return</span> <span style="color:DarkBlue;">TextStream</span>{ source, <span style="color:GoldenRod;">0</span>, <span style="color:GoldenRod;">0</span>, <span style="color:GoldenRod;">1</span>, <span style="color:GoldenRod;">1</span> }
  }

  current () (char) {
    char <span style="color:blue;">&lt;-</span> <span style="color:DarkCyan; font-weight:bold;">empty</span>
    <span style="font-weight:bold;">if</span> (tokenEnd <span style="color:BlueViolet;">&lt;</span> source.size()) {
      char <span style="color:blue;">&lt;-</span> source.readAt(tokenEnd)
    }
  }

  tokenSize () {
    <span style="font-weight:bold;">return</span> tokenEnd<span style="color:BlueViolet;">-</span>tokenStart
  }

  forward () {
    <span style="font-weight:bold;">if</span> (tokenEnd <span style="color:BlueViolet;">&lt;</span> source.size()) {
      tokenEnd <span style="color:blue;">&lt;-</span> tokenEnd<span style="color:GoldenRod;">+1</span>
    }
    <span style="font-weight:bold;">return</span> <span style="color:DarkCyan; font-weight:bold;">self</span>
  }

  reset () {
    tokenEnd <span style="color:blue;">&lt;-</span> tokenStart
    <span style="font-weight:bold;">return</span> <span style="color:DarkCyan; font-weight:bold;">self</span>
  }

  take () {
    <span style="font-weight:bold;">cleanup</span> {
      <span style="font-weight:bold;">while</span> (tokenStart <span style="color:BlueViolet;">&lt;</span> tokenEnd) {
        <span style="font-weight:bold;">if</span> (source.readAt(tokenStart) <span style="color:BlueViolet;">==</span> <span style="color:DarkViolet;">&apos;<span style="color:DarkMagenta;">\n</span>&apos;</span>) {
          currentChar <span style="color:blue;">&lt;-</span> <span style="color:GoldenRod;">1</span>
          currentLine <span style="color:blue;">&lt;-</span> currentLine<span style="color:GoldenRod;">+1</span>
        } <span style="font-weight:bold;">else</span> {
          currentChar <span style="color:blue;">&lt;-</span> currentChar<span style="color:GoldenRod;">+1</span>
        }
      } <span style="font-weight:bold;">update</span> {
        tokenStart <span style="color:blue;">&lt;-</span> tokenStart<span style="color:GoldenRod;">+1</span>
      }
      tokenStart <span style="color:blue;">&lt;-</span> tokenEnd
    } <span style="font-weight:bold;">in</span> <span style="font-weight:bold;">return</span> preview()
  }

  preview () {
    <span style="font-weight:bold;">return</span> source.subSequence(tokenStart, tokenSize())
  }

  currentLine () {
    <span style="font-weight:bold;">return</span> currentLine
  }

  currentChar () {
    <span style="font-weight:bold;">return</span> currentChar
  }

  atEnd () {
    <span style="font-weight:bold;">return</span> tokenStart <span style="color:BlueViolet;">&gt;=</span> source.size()
  }
}

<span style="color:Indigo; font-weight:bold;">define</span> <span style="color:DarkBlue;">UnformattedFormatter</span> {
  new () {
    <span style="font-weight:bold;">return</span> <span style="font-weight:bold;">delegate</span> <span style="color:blue;">-&gt;</span> <span style="color:DarkBlue; font-weight:bold;">&num;self</span>
  }

  formatLeaf (_, value) {
    <span style="font-weight:bold;">return</span> value.formatted()
  }

  createSection (_) {
    <span style="font-weight:bold;">return</span> <span style="color:DarkBlue; font-weight:bold;">String</span>.builder()
  }
}

<span style="color:Indigo; font-weight:bold;">define</span> <span style="color:DarkBlue;">StreamTokenizer</span> {
  <span style="color:DarkSalmon; font-style:italic;">&dollar;<span style="color:DarkSalmon; font-style:italic; font-weight:bold;">ReadOnlyExcept</span>[]&dollar;</span>

  <span style="color:Indigo; font-weight:bold;">@value</span> <span style="color:DarkBlue;">&num;c</span> context
  <span style="color:Indigo; font-weight:bold;">@value</span> <span style="color:DarkBlue;">Tokenizer</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">&num;c</span>, <span style="color:DarkBlue;">&num;v</span><span style="color:BlueViolet;">&gt;</span> tokenizer

  new (context, tokenizer) {
    <span style="font-weight:bold;">return</span> <span style="font-weight:bold;">delegate</span> <span style="color:blue;">-&gt;</span> <span style="color:DarkBlue;">StreamTokenizer</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">&num;c</span>, <span style="color:DarkBlue;">&num;v</span><span style="color:BlueViolet;">&gt;</span>
  }

  tokenizeAll (input, output) {
    <span style="font-weight:bold;">scoped</span> {
      optional <span style="color:DarkBlue;">&num;v</span> token <span style="color:blue;">&lt;-</span> <span style="color:DarkCyan; font-weight:bold;">empty</span>
    } <span style="font-weight:bold;">in</span> <span style="font-weight:bold;">while</span> (<span style="color:BlueViolet;">!</span>input.atEnd()) {
      token <span style="color:blue;">&lt;-</span> input `tokenizer.tokenize` context
    } <span style="font-weight:bold;">update</span> {
      <span style="color:DarkGray; font-style:italic;">// Process new token.</span>
      <span style="font-weight:bold;">if</span> (`<span style="color:DarkGreen; font-weight:bold;">present</span>` token) {
        \ output.append(`<span style="color:DarkGreen; font-weight:bold;">require</span>` token)
      } <span style="font-weight:bold;">else</span> {
        <span style="color:DarkGray; font-style:italic;">// Tokenizing failed =&gt; let the caller deal with the rest of the input.</span>
        <span style="font-weight:bold;">break</span>
      }
    }
    <span style="font-weight:bold;">return</span> <span style="color:DarkCyan; font-weight:bold;">self</span>
  }
}

<span style="color:Indigo; font-weight:bold;">define</span> <span style="color:DarkBlue;">CharType</span> {
  <span style="color:DarkSalmon; font-style:italic;">&dollar;<span style="color:DarkSalmon; font-style:italic; font-weight:bold;">ReadOnlyExcept</span>[]&dollar;</span>

  <span style="color:Indigo; font-weight:bold;">@category</span> <span style="color:DarkBlue;">KVReader</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">Char</span>, <span style="color:DarkBlue; font-weight:bold;">String</span><span style="color:BlueViolet;">&gt;</span> escapes <span style="color:blue;">&lt;-</span> <span style="color:DarkBlue;">HashedMap</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">Char</span>, <span style="color:DarkBlue; font-weight:bold;">String</span><span style="color:BlueViolet;">&gt;.</span>new()
      .set(<span style="color:DarkViolet;">&apos;<span style="color:DarkMagenta;">\t</span>&apos;</span>, <span style="color:DeepPink;">&quot;<span style="color:DarkMagenta;">\\</span>t&quot;</span>)
      .set(<span style="color:DarkViolet;">&apos;<span style="color:DarkMagenta;">\n</span>&apos;</span>, <span style="color:DeepPink;">&quot;<span style="color:DarkMagenta;">\\</span>n&quot;</span>)
      .set(<span style="color:DarkViolet;">&apos;<span style="color:DarkMagenta;">\r</span>&apos;</span>, <span style="color:DeepPink;">&quot;<span style="color:DarkMagenta;">\\</span>r&quot;</span>)
      .set(<span style="color:DarkViolet;">&apos;<span style="color:DarkMagenta;">\&quot;</span>&apos;</span>, <span style="color:DeepPink;">&quot;<span style="color:DarkMagenta;">\\</span><span style="color:DarkMagenta;">\&quot;</span>&quot;</span>)
      .set(<span style="color:DarkViolet;">&apos;<span style="color:DarkMagenta;">\\</span>&apos;</span>, <span style="color:DeepPink;">&quot;<span style="color:DarkMagenta;">\\</span><span style="color:DarkMagenta;">\\</span>&quot;</span>)

  <span style="color:Indigo; font-weight:bold;">@category</span> <span style="color:DarkBlue;">SetReader</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">Char</span><span style="color:BlueViolet;">&gt;</span> binChars <span style="color:blue;">&lt;-</span> <span style="color:DarkBlue;">HashedSet</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">Char</span><span style="color:BlueViolet;">&gt;.</span>new() `<span style="color:DarkBlue;">AppendH</span>:from` <span style="color:DeepPink;">&quot;01&quot;</span>.defaultOrder()

  <span style="color:Indigo; font-weight:bold;">@category</span> <span style="color:DarkBlue;">SetReader</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">Char</span><span style="color:BlueViolet;">&gt;</span> octChars <span style="color:blue;">&lt;-</span> <span style="color:DarkBlue;">HashedSet</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">Char</span><span style="color:BlueViolet;">&gt;.</span>new() `<span style="color:DarkBlue;">AppendH</span>:from` <span style="color:DeepPink;">&quot;01234567&quot;</span>.defaultOrder()

  <span style="color:Indigo; font-weight:bold;">@category</span> <span style="color:DarkBlue;">SetReader</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">Char</span><span style="color:BlueViolet;">&gt;</span> decChars <span style="color:blue;">&lt;-</span> <span style="color:DarkBlue;">HashedSet</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">Char</span><span style="color:BlueViolet;">&gt;.</span>new() `<span style="color:DarkBlue;">AppendH</span>:from` <span style="color:DeepPink;">&quot;0123456789&quot;</span>.defaultOrder()

  <span style="color:Indigo; font-weight:bold;">@category</span> <span style="color:DarkBlue;">SetReader</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">Char</span><span style="color:BlueViolet;">&gt;</span> hexChars <span style="color:blue;">&lt;-</span> <span style="color:DarkBlue;">HashedSet</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">Char</span><span style="color:BlueViolet;">&gt;.</span>new() `<span style="color:DarkBlue;">AppendH</span>:from` <span style="color:DeepPink;">&quot;0123456789abcdefABCDEF&quot;</span>.defaultOrder()

  <span style="color:Indigo; font-weight:bold;">@category</span> <span style="color:DarkBlue;">SetReader</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">Char</span><span style="color:BlueViolet;">&gt;</span> whitespaceChars <span style="color:blue;">&lt;-</span> <span style="color:DarkBlue;">HashedSet</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">Char</span><span style="color:BlueViolet;">&gt;.</span>new() `<span style="color:DarkBlue;">AppendH</span>:from` <span style="color:DeepPink;">&quot;<span style="color:DarkMagenta;">\n</span><span style="color:DarkMagenta;">\t</span><span style="color:DarkMagenta;">\r</span> &quot;</span>.defaultOrder()

  lower (c) {
    <span style="font-weight:bold;">return</span> c <span style="color:BlueViolet;">&gt;=</span> <span style="color:DarkViolet;">&apos;a&apos;</span> <span style="color:BlueViolet;">&amp;&amp;</span> c <span style="color:BlueViolet;">&lt;=</span> <span style="color:DarkViolet;">&apos;z&apos;</span>
  }

  upper (c) {
    <span style="font-weight:bold;">return</span> c <span style="color:BlueViolet;">&gt;=</span> <span style="color:DarkViolet;">&apos;A&apos;</span> <span style="color:BlueViolet;">&amp;&amp;</span> c <span style="color:BlueViolet;">&lt;=</span> <span style="color:DarkViolet;">&apos;Z&apos;</span>
  }

  digit (c) {
    <span style="font-weight:bold;">return</span> `decChars.member` c
  }

  binDigit (c) {
    <span style="font-weight:bold;">return</span> `binChars.member` c
  }

  octDigit (c) {
    <span style="font-weight:bold;">return</span> `octChars.member` c
  }

  hexDigit (c) {
    <span style="font-weight:bold;">return</span> `hexChars.member` c
  }

  alphaNum (c) {
    <span style="font-weight:bold;">return</span> lower(c) <span style="color:BlueViolet;">||</span> upper(c) <span style="color:BlueViolet;">||</span> digit(c)
  }

  whitespace (c) {
    <span style="font-weight:bold;">return</span> `whitespaceChars.member` c
  }

  binChars () {
    <span style="font-weight:bold;">return</span> binChars
  }

  octChars () {
    <span style="font-weight:bold;">return</span> octChars
  }

  decChars () {
    <span style="font-weight:bold;">return</span> decChars
  }

  hexChars () {
    <span style="font-weight:bold;">return</span> hexChars
  }

  oneOf (c, allowed) (match) {
    match <span style="color:blue;">&lt;-</span> <span style="color:DarkCyan; font-weight:bold;">false</span>
    <span style="font-weight:bold;">traverse</span> (allowed.defaultOrder() <span style="color:blue;">-&gt;</span> <span style="color:DarkBlue; font-weight:bold;">Char</span> c2) {
      <span style="font-weight:bold;">if</span> (c <span style="color:BlueViolet;">==</span> c2) {
        <span style="font-weight:bold;">return</span> <span style="color:DarkCyan; font-weight:bold;">true</span>
      }
    }
  }

  escapeBreaks (string) {
    [<span style="color:DarkBlue; font-weight:bold;">Append</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">Formatted</span><span style="color:BlueViolet;">&gt;</span> <span style="color:BlueViolet;">&amp;</span> <span style="color:DarkBlue; font-weight:bold;">Build</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">String</span><span style="color:BlueViolet;">&gt;</span>] builder <span style="color:blue;">&lt;-</span> <span style="color:DarkBlue; font-weight:bold;">String</span>.builder()
    <span style="font-weight:bold;">traverse</span> (string.defaultOrder() <span style="color:blue;">-&gt;</span> <span style="color:DarkBlue; font-weight:bold;">Char</span> c) {
      <span style="font-weight:bold;">scoped</span> {
        optional <span style="color:DarkBlue; font-weight:bold;">String</span> replacement <span style="color:blue;">&lt;-</span> escapes.get(c)
      } <span style="font-weight:bold;">in</span> <span style="font-weight:bold;">if</span> (`<span style="color:DarkGreen; font-weight:bold;">present</span>` replacement) {
        \ builder.append(`<span style="color:DarkGreen; font-weight:bold;">require</span>` replacement)
      } <span style="font-weight:bold;">else</span> {
        \ builder.append(c)
      }
    }
    <span style="font-weight:bold;">return</span> builder.build()
  }
}
</pre>
<h2>example/highlighter/src/zeolite-parsing.0rp</h2>
<pre style="background:#fafffa;">
<span style="color:DarkGray; font-style:italic;">/* -----------------------------------------------------------------------------
Copyright 2023 Kevin P. Barry

Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
----------------------------------------------------------------------------- */</span>

<span style="color:DarkGray; font-style:italic;">// Author: Kevin P. Barry [ta0kira@gmail.com]</span>

<span style="color:DarkSalmon; font-style:italic;">&dollar;<span style="color:DarkSalmon; font-style:italic; font-weight:bold;">ModuleOnly</span>&dollar;</span>

<span style="color:DarkGray; font-style:italic;">// Hierarchical parsed data from Zeolite source files.</span>
<span style="color:Indigo; font-weight:bold;">concrete</span> <span style="color:DarkBlue;">ZeoliteParsed</span> {
  refines <span style="color:DarkBlue; font-weight:bold;">Formatted</span>
  refines <span style="color:DarkBlue;">FormattedToken</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">String</span>, <span style="color:DarkBlue; font-weight:bold;">String</span><span style="color:BlueViolet;">&gt;</span>
  refines <span style="color:DarkBlue;">TestCompare</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;</span>

  visibility <span style="color:DarkBlue;">Tokenizer</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParseContext</span>, <span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;</span>

  <span style="color:Indigo; font-weight:bold;">@type</span> leaf (<span style="color:DarkBlue; font-weight:bold;">String</span> <span style="color:green;">label:</span>, <span style="color:DarkBlue; font-weight:bold;">String</span> <span style="color:green;">content:</span>) <span style="color:blue;">-&gt;</span> (<span style="color:DarkBlue;">ZeoliteParsed</span>)
  <span style="color:Indigo; font-weight:bold;">@type</span> section (<span style="color:DarkBlue; font-weight:bold;">String</span> <span style="color:green;">label:</span>, <span style="color:DarkBlue;">DefaultOrder</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;</span>) <span style="color:blue;">-&gt;</span> (<span style="color:DarkBlue;">ZeoliteParsed</span>)
}

<span style="color:DarkGray; font-style:italic;">// Singleton tokenizer with a name.</span>
<span style="color:Indigo; font-weight:bold;">@type</span> <span style="color:Indigo; font-weight:bold;">interface</span> <span style="color:DarkBlue;">NamedTokenizer</span> {
  tokenizer () <span style="color:blue;">-&gt;</span> (<span style="color:DarkBlue;">Tokenizer</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParseContext</span>, <span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;</span>)
  tokenizerName () <span style="color:blue;">-&gt;</span> (<span style="color:DarkBlue; font-weight:bold;">String</span>)
}

<span style="color:DarkGray; font-style:italic;">// Context used when parsing Zeolite source files.</span>
<span style="color:Indigo; font-weight:bold;">concrete</span> <span style="color:DarkBlue;">ZeoliteParseContext</span> {
  refines <span style="color:DarkBlue;">KVReader</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">String</span>, <span style="color:DarkBlue;">Tokenizer</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParseContext</span>, <span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;&gt;</span>

  <span style="color:Indigo; font-weight:bold;">@type</span> new () <span style="color:blue;">-&gt;</span> (<span style="color:DarkBlue;">ZeoliteParseContext</span>)

  <span style="color:Indigo; font-weight:bold;">@value</span> defaultTokenizer () <span style="color:blue;">-&gt;</span> (<span style="color:DarkBlue;">Tokenizer</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParseContext</span>, <span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;</span>)

  <span style="color:Indigo; font-weight:bold;">@value</span> include<span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">&num;t</span><span style="color:BlueViolet;">&gt;</span>
    <span style="color:DarkBlue;">&num;t</span> defines <span style="color:DarkBlue;">NamedTokenizer</span>
  () <span style="color:blue;">-&gt;</span> (<span style="color:DarkBlue;">ZeoliteParseContext</span>)
}

<span style="color:DarkGray; font-style:italic;">// Delegate to a tokenizer by name.</span>
<span style="color:Indigo; font-weight:bold;">concrete</span> <span style="color:DarkBlue;">UseNamedTokenizer</span> {
  <span style="color:Indigo; font-weight:bold;">@type</span> new<span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">&num;t</span><span style="color:BlueViolet;">&gt;</span>
    <span style="color:DarkBlue;">&num;t</span> defines <span style="color:DarkBlue;">NamedTokenizer</span>
  () <span style="color:blue;">-&gt;</span> (<span style="color:DarkBlue;">Tokenizer</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParseContext</span>, <span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;</span>)
}

<span style="color:DarkGray; font-style:italic;">// Attempts multiple tokenizers in order.</span>
<span style="color:Indigo; font-weight:bold;">concrete</span> <span style="color:DarkBlue;">TokenAlternatives</span> {
  refines <span style="color:DarkBlue; font-weight:bold;">Append</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">Tokenizer</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParseContext</span>, <span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;&gt;</span>
  refines <span style="color:DarkBlue;">Tokenizer</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParseContext</span>, <span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;</span>

  <span style="color:Indigo; font-weight:bold;">@type</span> new () <span style="color:blue;">-&gt;</span> (<span style="color:DarkBlue;">TokenAlternatives</span>)
}

<span style="color:DarkGray; font-style:italic;">// Zeolite symbol parsing.</span>
<span style="color:Indigo; font-weight:bold;">concrete</span> <span style="color:DarkBlue;">ZeoliteSymbol</span> {
  <span style="color:DarkGray; font-style:italic;">// Parses symbol and returns the stream forwarded to the end of the symbol.</span>

  <span style="color:Indigo; font-weight:bold;">@type</span> parseUpperSymbol     (<span style="color:DarkBlue;">TextStream</span>) <span style="color:blue;">-&gt;</span> (optional <span style="color:DarkBlue;">TextStream</span>)
  <span style="color:Indigo; font-weight:bold;">@type</span> parseLowerSymbol     (<span style="color:DarkBlue;">TextStream</span>) <span style="color:blue;">-&gt;</span> (optional <span style="color:DarkBlue;">TextStream</span>)
  <span style="color:Indigo; font-weight:bold;">@type</span> parseParamName       (<span style="color:DarkBlue;">TextStream</span>) <span style="color:blue;">-&gt;</span> (optional <span style="color:DarkBlue;">TextStream</span>)
  <span style="color:Indigo; font-weight:bold;">@type</span> parseScopeQualifier  (<span style="color:DarkBlue;">TextStream</span>) <span style="color:blue;">-&gt;</span> (optional <span style="color:DarkBlue;">TextStream</span>)
  <span style="color:Indigo; font-weight:bold;">@type</span> parseOperatorSymbols (<span style="color:DarkBlue;">TextStream</span>) <span style="color:blue;">-&gt;</span> (optional <span style="color:DarkBlue;">TextStream</span>)

  <span style="color:DarkGray; font-style:italic;">// Caller must check for \ first. Stream isn&apos;t reset!</span>
  <span style="color:Indigo; font-weight:bold;">@type</span> parseEscapedChar (<span style="color:DarkBlue;">TextStream</span>) <span style="color:blue;">-&gt;</span> (optional <span style="color:DarkBlue;">TextStream</span>)

  <span style="color:DarkGray; font-style:italic;">// Returns a type label if the token is in the given set.</span>

  <span style="color:Indigo; font-weight:bold;">@type</span> tryControlKeyword  (<span style="color:DarkBlue; font-weight:bold;">String</span>) <span style="color:blue;">-&gt;</span> (optional <span style="color:DarkBlue; font-weight:bold;">String</span>)
  <span style="color:Indigo; font-weight:bold;">@type</span> tryTypeKeyword     (<span style="color:DarkBlue; font-weight:bold;">String</span>) <span style="color:blue;">-&gt;</span> (optional <span style="color:DarkBlue; font-weight:bold;">String</span>)
  <span style="color:Indigo; font-weight:bold;">@type</span> tryContainKeyword  (<span style="color:DarkBlue; font-weight:bold;">String</span>) <span style="color:blue;">-&gt;</span> (optional <span style="color:DarkBlue; font-weight:bold;">String</span>)
  <span style="color:Indigo; font-weight:bold;">@type</span> tryStorageKeyword  (<span style="color:DarkBlue; font-weight:bold;">String</span>) <span style="color:blue;">-&gt;</span> (optional <span style="color:DarkBlue; font-weight:bold;">String</span>)
  <span style="color:Indigo; font-weight:bold;">@type</span> tryScopeQualifier  (<span style="color:DarkBlue; font-weight:bold;">String</span>) <span style="color:blue;">-&gt;</span> (optional <span style="color:DarkBlue; font-weight:bold;">String</span>)
  <span style="color:Indigo; font-weight:bold;">@type</span> tryTestcaseKeyword (<span style="color:DarkBlue; font-weight:bold;">String</span>) <span style="color:blue;">-&gt;</span> (optional <span style="color:DarkBlue; font-weight:bold;">String</span>)
  <span style="color:Indigo; font-weight:bold;">@type</span> tryBuiltinCategory (<span style="color:DarkBlue; font-weight:bold;">String</span>) <span style="color:blue;">-&gt;</span> (optional <span style="color:DarkBlue; font-weight:bold;">String</span>)
  <span style="color:Indigo; font-weight:bold;">@type</span> tryBuiltinFunction (<span style="color:DarkBlue; font-weight:bold;">String</span>) <span style="color:blue;">-&gt;</span> (optional <span style="color:DarkBlue; font-weight:bold;">String</span>)
  <span style="color:Indigo; font-weight:bold;">@type</span> tryBuiltinConstant (<span style="color:DarkBlue; font-weight:bold;">String</span>) <span style="color:blue;">-&gt;</span> (optional <span style="color:DarkBlue; font-weight:bold;">String</span>)
  <span style="color:Indigo; font-weight:bold;">@type</span> tryBuiltinParam    (<span style="color:DarkBlue; font-weight:bold;">String</span>) <span style="color:blue;">-&gt;</span> (optional <span style="color:DarkBlue; font-weight:bold;">String</span>)
  <span style="color:Indigo; font-weight:bold;">@type</span> tryAssignment      (<span style="color:DarkBlue; font-weight:bold;">String</span>) <span style="color:blue;">-&gt;</span> (optional <span style="color:DarkBlue; font-weight:bold;">String</span>)
  <span style="color:Indigo; font-weight:bold;">@type</span> tryFunctionCall    (<span style="color:DarkBlue; font-weight:bold;">String</span>) <span style="color:blue;">-&gt;</span> (optional <span style="color:DarkBlue; font-weight:bold;">String</span>)
}
</pre>
<h2>example/highlighter/src/zeolite-parsing.0rx</h2>
<pre style="background:#fafffa;">
<span style="color:DarkGray; font-style:italic;">/* -----------------------------------------------------------------------------
Copyright 2023-2024 Kevin P. Barry

Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
----------------------------------------------------------------------------- */</span>

<span style="color:DarkGray; font-style:italic;">// Author: Kevin P. Barry [ta0kira@gmail.com]</span>

<span style="color:Indigo; font-weight:bold;">define</span> <span style="color:DarkBlue;">ZeoliteParsed</span> {
  <span style="color:DarkSalmon; font-style:italic;">&dollar;<span style="color:DarkSalmon; font-style:italic; font-weight:bold;">ReadOnlyExcept</span>[]&dollar;</span>

  <span style="color:Indigo; font-weight:bold;">@value</span> <span style="color:DarkBlue; font-weight:bold;">String</span> label
  <span style="color:Indigo; font-weight:bold;">@value</span> optional <span style="color:DarkBlue; font-weight:bold;">String</span> content
  <span style="color:Indigo; font-weight:bold;">@value</span> <span style="color:DarkBlue;">DefaultOrder</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;</span> subsections

  leaf (label, content) {
    <span style="font-weight:bold;">return</span> <span style="color:DarkBlue; font-weight:bold;">&num;self</span>{ label, content, <span style="color:DarkBlue;">AlwaysEmpty</span>.default() }
  }

  section (label, subsections) {
    <span style="font-weight:bold;">return</span> <span style="color:DarkBlue; font-weight:bold;">&num;self</span>{ label, <span style="color:DarkCyan; font-weight:bold;">empty</span>, subsections }
  }

  testCompare (actual, report) {
    \ <span style="color:DarkBlue;">MultiChecker</span>.new(report)
        .check(
            <span style="color:green;">title:</span> <span style="color:DeepPink;">&quot;label&quot;</span>,
            actual.label(),
            <span style="color:DarkBlue;">CheckValue</span>:equals(label))
        &amp;.tryCheck(
            <span style="color:green;">title:</span> <span style="color:DeepPink;">&quot;content&quot;</span>,
            actual.content(),
            <span style="color:DarkBlue;">CheckValue</span>:equals(content))
        &amp;.tryCheck(
            <span style="color:green;">title:</span> <span style="color:DeepPink;">&quot;subsections&quot;</span>,
            actual.subsections(),
            <span style="color:DarkBlue;">CheckSequence</span>:matches(<span style="color:DarkBlue;">CheckSequence</span>:using(subsections)))
  }

  formatted () {
    [<span style="color:DarkBlue; font-weight:bold;">Append</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">Formatted</span><span style="color:BlueViolet;">&gt;</span> <span style="color:BlueViolet;">&amp;</span> <span style="color:DarkBlue; font-weight:bold;">Build</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">String</span><span style="color:BlueViolet;">&gt;</span>] builder <span style="color:blue;">&lt;-</span> <span style="color:DarkBlue; font-weight:bold;">String</span>.builder()
        .append(<span style="color:DeepPink;">&quot;ZeoliteParsed{label:&quot;</span>)
        .append(label)
    <span style="font-weight:bold;">if</span> (`<span style="color:DarkGreen; font-weight:bold;">present</span>` content) {
      \ builder
          .append(<span style="color:DeepPink;">&quot;,content:<span style="color:DarkMagenta;">\&quot;</span>&quot;</span>)
          .append(<span style="color:DarkBlue;">CharType</span>.escapeBreaks(`<span style="color:DarkGreen; font-weight:bold;">require</span>` content))
          .append(<span style="color:DeepPink;">&quot;<span style="color:DarkMagenta;">\&quot;</span>&quot;</span>)
    } <span style="font-weight:bold;">else</span> {
        <span style="font-weight:bold;">traverse</span> (subsections.defaultOrder() <span style="color:blue;">-&gt;</span> <span style="color:DarkBlue; font-weight:bold;">Formatted</span> subsection) {
        \ builder
            .append(<span style="color:DeepPink;">&quot;,&quot;</span>)
            .append(subsection)
      }
    }
    \ builder.append(<span style="color:DeepPink;">&quot;}&quot;</span>)
    <span style="font-weight:bold;">return</span> builder.build()
  }

  formatWith (formatter) {
    <span style="font-weight:bold;">if</span> (`<span style="color:DarkGreen; font-weight:bold;">present</span>` content) {
      <span style="font-weight:bold;">return</span> formatter.formatLeaf(<span style="color:green;">label:</span> label, <span style="color:green;">value:</span> `<span style="color:DarkGreen; font-weight:bold;">require</span>` content)
    } <span style="font-weight:bold;">else</span> {
      [<span style="color:DarkBlue; font-weight:bold;">Append</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">&num;f</span><span style="color:BlueViolet;">&gt;</span> <span style="color:BlueViolet;">&amp;</span> <span style="color:DarkBlue; font-weight:bold;">Build</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">&num;f</span><span style="color:BlueViolet;">&gt;</span>] builder <span style="color:blue;">&lt;-</span> formatter.createSection(<span style="color:green;">label:</span> label)
      <span style="font-weight:bold;">traverse</span> (subsections.defaultOrder() <span style="color:blue;">-&gt;</span> <span style="color:DarkBlue;">ZeoliteParsed</span> subsection) {
        \ builder.append(subsection.formatWith(formatter))
      }
      <span style="font-weight:bold;">return</span> builder.build()
    }
  }

  <span style="color:Indigo; font-weight:bold;">@value</span> label () <span style="color:blue;">-&gt;</span> (<span style="color:DarkBlue; font-weight:bold;">String</span>)
  label () {
    <span style="font-weight:bold;">return</span> label
  }

  <span style="color:Indigo; font-weight:bold;">@value</span> content () <span style="color:blue;">-&gt;</span> (optional <span style="color:DarkBlue; font-weight:bold;">String</span>)
  content () {
    <span style="font-weight:bold;">return</span> content
  }

  <span style="color:Indigo; font-weight:bold;">@value</span> subsections () <span style="color:blue;">-&gt;</span> (<span style="color:DarkBlue;">DefaultOrder</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;</span>)
  subsections () {
    <span style="font-weight:bold;">return</span> subsections
  }
}

<span style="color:Indigo; font-weight:bold;">define</span> <span style="color:DarkBlue;">UseNamedTokenizer</span> {
  <span style="color:DarkSalmon; font-style:italic;">&dollar;<span style="color:DarkSalmon; font-style:italic; font-weight:bold;">ReadOnlyExcept</span>[]&dollar;</span>

  refines <span style="color:DarkBlue;">Tokenizer</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParseContext</span>, <span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;</span>

  <span style="color:Indigo; font-weight:bold;">@value</span> <span style="color:DarkBlue; font-weight:bold;">String</span> name

  new () {
    <span style="font-weight:bold;">return</span> <span style="color:DarkBlue; font-weight:bold;">&num;self</span>{ <span style="color:DarkBlue;">&num;t</span>.tokenizerName() }
  }

  tokenize (input, context) {
    <span style="font-weight:bold;">return</span> <span style="font-weight:bold;">delegate</span> <span style="color:blue;">-&gt;</span> `context.get(name)&amp;.tokenize`
  }
}

<span style="color:Indigo; font-weight:bold;">define</span> <span style="color:DarkBlue;">TokenAlternatives</span> {
  <span style="color:DarkSalmon; font-style:italic;">&dollar;<span style="color:DarkSalmon; font-style:italic; font-weight:bold;">ReadOnlyExcept</span>[]&dollar;</span>

  <span style="color:Indigo; font-weight:bold;">@value</span> <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">Tokenizer</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParseContext</span>, <span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;&gt;</span> tokenizers

  new () {
    <span style="font-weight:bold;">return</span> <span style="color:DarkBlue; font-weight:bold;">&num;self</span>{ <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">Tokenizer</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParseContext</span>, <span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;&gt;.</span>new() }
  }

  append (tokenizer) {
    \ <span style="font-weight:bold;">delegate</span> <span style="color:blue;">-&gt;</span> `tokenizers.append`
    <span style="font-weight:bold;">return</span> <span style="color:DarkCyan; font-weight:bold;">self</span>
  }

  tokenize (input, context) (token) {
    token <span style="color:blue;">&lt;-</span> <span style="color:DarkCyan; font-weight:bold;">empty</span>
    <span style="font-weight:bold;">traverse</span> (tokenizers.defaultOrder() <span style="color:blue;">-&gt;</span> <span style="color:DarkBlue;">Tokenizer</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParseContext</span>, <span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;</span> tokenizer) {
      token <span style="color:blue;">&lt;-</span> tokenizer.tokenize(input, context)
    } <span style="font-weight:bold;">update</span> {
      <span style="font-weight:bold;">if</span> (`<span style="color:DarkGreen; font-weight:bold;">present</span>` token) {
        <span style="font-weight:bold;">break</span>
      }
    }
  }
}

<span style="color:Indigo; font-weight:bold;">define</span> <span style="color:DarkBlue;">ZeoliteParseContext</span> {
  <span style="color:DarkSalmon; font-style:italic;">&dollar;<span style="color:DarkSalmon; font-style:italic; font-weight:bold;">ReadOnlyExcept</span>[]&dollar;</span>

  <span style="color:Indigo; font-weight:bold;">@value</span> <span style="color:DarkBlue;">TokenAlternatives</span> defaultTokenizer
  <span style="color:Indigo; font-weight:bold;">@value</span> <span style="color:DarkBlue;">HashedMap</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">String</span>, <span style="color:DarkBlue;">Tokenizer</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParseContext</span>, <span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;&gt;</span> tokenizers

  new () {
    <span style="font-weight:bold;">return</span> <span style="color:DarkBlue; font-weight:bold;">&num;self</span>{ <span style="color:DarkBlue;">TokenAlternatives</span>.new(), <span style="color:DarkBlue;">HashedMap</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">String</span>, <span style="color:DarkBlue;">Tokenizer</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParseContext</span>, <span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;&gt;.</span>new() }
  }

  defaultTokenizer () {
    <span style="font-weight:bold;">return</span> defaultTokenizer
  }

  include () {
    \ <span style="color:DarkBlue;">&num;t</span>.tokenizerName() `tokenizers.set` <span style="color:DarkBlue;">&num;t</span>.tokenizer()
    \ defaultTokenizer.append(<span style="color:DarkBlue;">UseNamedTokenizer</span>.new<span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">&num;t</span><span style="color:BlueViolet;">&gt;</span>())
    <span style="font-weight:bold;">return</span> <span style="color:DarkCyan; font-weight:bold;">self</span>
  }

  get (k) {
    <span style="font-weight:bold;">return</span> <span style="font-weight:bold;">delegate</span> <span style="color:blue;">-&gt;</span> `tokenizers.get`
  }
}

<span style="color:Indigo; font-weight:bold;">define</span> <span style="color:DarkBlue;">ZeoliteSymbol</span> {
  <span style="color:DarkSalmon; font-style:italic;">&dollar;<span style="color:DarkSalmon; font-style:italic; font-weight:bold;">ReadOnlyExcept</span>[]&dollar;</span>

  <span style="color:Indigo; font-weight:bold;">@category</span> <span style="color:DarkBlue;">SetReader</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">String</span><span style="color:BlueViolet;">&gt;</span> controlKeywords <span style="color:blue;">&lt;-</span> <span style="color:DarkBlue;">HashedSet</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">String</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DeepPink;">&quot;break&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;cleanup&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;continue&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;defer&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;delegate&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;elif&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;else&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;if&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;in&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;return&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;scoped&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;traverse&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;update&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;while&quot;</span>)

  <span style="color:Indigo; font-weight:bold;">@category</span> <span style="color:DarkBlue;">SetReader</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">String</span><span style="color:BlueViolet;">&gt;</span> typeKeywords <span style="color:blue;">&lt;-</span> <span style="color:DarkBlue;">HashedSet</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">String</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DeepPink;">&quot;allows&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;defines&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;immutable&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;refines&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;requires&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;visibility&quot;</span>)

  <span style="color:Indigo; font-weight:bold;">@category</span> <span style="color:DarkBlue;">SetReader</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">String</span><span style="color:BlueViolet;">&gt;</span> containKeywords <span style="color:blue;">&lt;-</span> <span style="color:DarkBlue;">HashedSet</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">String</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DeepPink;">&quot;concrete&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;interface&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;define&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;testcase&quot;</span>)

  <span style="color:Indigo; font-weight:bold;">@category</span> <span style="color:DarkBlue;">SetReader</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">String</span><span style="color:BlueViolet;">&gt;</span> storageKeywords <span style="color:blue;">&lt;-</span> <span style="color:DarkBlue;">HashedSet</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">String</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DeepPink;">&quot;optional&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;weak&quot;</span>)

  <span style="color:Indigo; font-weight:bold;">@category</span> <span style="color:DarkBlue;">SetReader</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">String</span><span style="color:BlueViolet;">&gt;</span> scopeQualifiers <span style="color:blue;">&lt;-</span> <span style="color:DarkBlue;">HashedSet</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">String</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DeepPink;">&quot;@category&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;@type&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;@value&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;unittest&quot;</span>)

  <span style="color:Indigo; font-weight:bold;">@category</span> <span style="color:DarkBlue;">SetReader</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">String</span><span style="color:BlueViolet;">&gt;</span> testcaseKeywords <span style="color:blue;">&lt;-</span> <span style="color:DarkBlue;">HashedSet</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">String</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DeepPink;">&quot;args&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;compiler&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;compiles&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;error&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;exclude&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;failure&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;require&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;stderr&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;stdout&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;success&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;timeout&quot;</span>)

  <span style="color:Indigo; font-weight:bold;">@category</span> <span style="color:DarkBlue;">SetReader</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">String</span><span style="color:BlueViolet;">&gt;</span> builtinCategries <span style="color:blue;">&lt;-</span> <span style="color:DarkBlue;">HashedSet</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">String</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DeepPink;">&quot;all&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;any&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;Append&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;AsBool&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;AsChar&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;AsFloat&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;AsInt&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;Bool&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;Bounded&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;Build&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;Char&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;CharBuffer&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;Container&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;Default&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;Duplicate&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;Equals&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;Float&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;Formatted&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;Hashed&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;Identifier&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;Int&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;LessThan&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;Order&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;Pointer&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;ReadAt&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;String&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;SubSequence&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;Testcase&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;WriteAt&quot;</span>)

  <span style="color:Indigo; font-weight:bold;">@category</span> <span style="color:DarkBlue;">SetReader</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">String</span><span style="color:BlueViolet;">&gt;</span> builtinFunctions <span style="color:blue;">&lt;-</span> <span style="color:DarkBlue;">HashedSet</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">String</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DeepPink;">&quot;exit&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;fail&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;identify&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;present&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;reduce&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;require&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;strong&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;typename&quot;</span>)

  <span style="color:Indigo; font-weight:bold;">@category</span> <span style="color:DarkBlue;">SetReader</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">String</span><span style="color:BlueViolet;">&gt;</span> builtinConstants <span style="color:blue;">&lt;-</span> <span style="color:DarkBlue;">HashedSet</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">String</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DeepPink;">&quot;_&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;empty&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;false&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;true&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;self&quot;</span>)

  <span style="color:Indigo; font-weight:bold;">@category</span> <span style="color:DarkBlue;">SetReader</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">String</span><span style="color:BlueViolet;">&gt;</span> builtinParams <span style="color:blue;">&lt;-</span> <span style="color:DarkBlue;">HashedSet</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">String</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DeepPink;">&quot;&num;self&quot;</span>)

  <span style="color:Indigo; font-weight:bold;">@category</span> <span style="color:DarkBlue;">SetReader</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">String</span><span style="color:BlueViolet;">&gt;</span> assignmentOperators <span style="color:blue;">&lt;-</span> <span style="color:DarkBlue;">HashedSet</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">String</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DeepPink;">&quot;&lt;-&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;&lt;-|&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;&lt;-&gt;&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;-&gt;&quot;</span>)

  <span style="color:Indigo; font-weight:bold;">@category</span> <span style="color:DarkBlue;">SetReader</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">String</span><span style="color:BlueViolet;">&gt;</span> functionCallOperators <span style="color:blue;">&lt;-</span> <span style="color:DarkBlue;">HashedSet</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">String</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DeepPink;">&quot;:&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;.&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;&amp;.&quot;</span>)
      .append(<span style="color:DeepPink;">&quot;?&quot;</span>)

  <span style="color:Indigo; font-weight:bold;">@category</span> <span style="color:DarkBlue;">SetReader</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">Char</span><span style="color:BlueViolet;">&gt;</span> operatorChars <span style="color:blue;">&lt;-</span> <span style="color:DarkBlue;">HashedSet</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">Char</span><span style="color:BlueViolet;">&gt;.</span>new() `<span style="color:DarkBlue;">AppendH</span>:from` <span style="color:DeepPink;">&quot;:.!&percnt;^&amp;*-+|&lt;&gt;?=&quot;</span>.defaultOrder()

  <span style="color:Indigo; font-weight:bold;">@category</span> <span style="color:DarkBlue;">SetReader</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">Char</span><span style="color:BlueViolet;">&gt;</span> escapedChars <span style="color:blue;">&lt;-</span> <span style="color:DarkBlue;">HashedSet</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">Char</span><span style="color:BlueViolet;">&gt;.</span>new() `<span style="color:DarkBlue;">AppendH</span>:from` <span style="color:DeepPink;">&quot;&apos;<span style="color:DarkMagenta;">\&quot;</span>?<span style="color:DarkMagenta;">\\</span>abfnrtv&quot;</span>.defaultOrder()

  parseUpperSymbol (input) {
    \ input.reset()
    optional <span style="color:DarkBlue; font-weight:bold;">Char</span> current <span style="color:blue;">&lt;-</span> input.current()
    <span style="font-weight:bold;">if</span> (<span style="color:BlueViolet;">!</span> `<span style="color:DarkGreen; font-weight:bold;">present</span>` current <span style="color:BlueViolet;">||</span> <span style="color:BlueViolet;">!</span><span style="color:DarkBlue;">CharType</span>.upper(`<span style="color:DarkGreen; font-weight:bold;">require</span>` current)) {
      <span style="font-weight:bold;">return</span> <span style="color:DarkCyan; font-weight:bold;">empty</span>
    }
    <span style="font-weight:bold;">while</span> (`<span style="color:DarkGreen; font-weight:bold;">present</span>` current <span style="color:BlueViolet;">&amp;&amp;</span> <span style="color:DarkBlue;">CharType</span>.alphaNum(`<span style="color:DarkGreen; font-weight:bold;">require</span>` current)) {
      current <span style="color:blue;">&lt;-</span> input.forward().current()
    }
    <span style="font-weight:bold;">return</span> input
  }

  parseLowerSymbol (input) {
    \ input.reset()
    optional <span style="color:DarkBlue; font-weight:bold;">Char</span> current <span style="color:blue;">&lt;-</span> input.current()
    <span style="font-weight:bold;">if</span> (<span style="color:BlueViolet;">!</span> `<span style="color:DarkGreen; font-weight:bold;">present</span>` current <span style="color:BlueViolet;">||</span> <span style="color:BlueViolet;">!</span><span style="color:DarkBlue;">CharType</span>.lower(`<span style="color:DarkGreen; font-weight:bold;">require</span>` current)) {
      <span style="font-weight:bold;">return</span> <span style="color:DarkCyan; font-weight:bold;">empty</span>
    }
    <span style="font-weight:bold;">while</span> (`<span style="color:DarkGreen; font-weight:bold;">present</span>` current <span style="color:BlueViolet;">&amp;&amp;</span> <span style="color:DarkBlue;">CharType</span>.alphaNum(`<span style="color:DarkGreen; font-weight:bold;">require</span>` current)) {
      current <span style="color:blue;">&lt;-</span> input.forward().current()
    }
    <span style="font-weight:bold;">return</span> input
  }

  parseParamName (input) {
    \ input.reset()
    optional <span style="color:DarkBlue; font-weight:bold;">Char</span> current <span style="color:blue;">&lt;-</span> input.current()
    <span style="font-weight:bold;">if</span> (<span style="color:BlueViolet;">!</span> `<span style="color:DarkGreen; font-weight:bold;">present</span>` current <span style="color:BlueViolet;">||</span> `<span style="color:DarkGreen; font-weight:bold;">require</span>` current <span style="color:BlueViolet;">!=</span> <span style="color:DarkViolet;">&apos;&num;&apos;</span>) {
      <span style="font-weight:bold;">return</span> <span style="color:DarkCyan; font-weight:bold;">empty</span>
    }
    current <span style="color:blue;">&lt;-</span> input.forward().current()
    <span style="font-weight:bold;">if</span> (<span style="color:BlueViolet;">!</span> `<span style="color:DarkGreen; font-weight:bold;">present</span>` current <span style="color:BlueViolet;">||</span> <span style="color:BlueViolet;">!</span><span style="color:DarkBlue;">CharType</span>.lower(`<span style="color:DarkGreen; font-weight:bold;">require</span>` current)) {
      <span style="font-weight:bold;">return</span> <span style="color:DarkCyan; font-weight:bold;">empty</span>
    }
    <span style="font-weight:bold;">while</span> (`<span style="color:DarkGreen; font-weight:bold;">present</span>` current <span style="color:BlueViolet;">&amp;&amp;</span> <span style="color:DarkBlue;">CharType</span>.alphaNum(`<span style="color:DarkGreen; font-weight:bold;">require</span>` current)) {
      current <span style="color:blue;">&lt;-</span> input.forward().current()
    }
    <span style="font-weight:bold;">return</span> input
  }

  parseScopeQualifier (input) {
    \ input.reset()
    optional <span style="color:DarkBlue; font-weight:bold;">Char</span> current <span style="color:blue;">&lt;-</span> input.current()
    <span style="font-weight:bold;">if</span> (<span style="color:BlueViolet;">!</span> `<span style="color:DarkGreen; font-weight:bold;">present</span>` current <span style="color:BlueViolet;">||</span> `<span style="color:DarkGreen; font-weight:bold;">require</span>` current <span style="color:BlueViolet;">!=</span> <span style="color:DarkViolet;">&apos;@&apos;</span>) {
      <span style="font-weight:bold;">return</span> <span style="color:DarkCyan; font-weight:bold;">empty</span>
    }
    current <span style="color:blue;">&lt;-</span> input.forward().current()
    <span style="font-weight:bold;">while</span> (`<span style="color:DarkGreen; font-weight:bold;">present</span>` current <span style="color:BlueViolet;">&amp;&amp;</span> <span style="color:DarkBlue;">CharType</span>.alphaNum(`<span style="color:DarkGreen; font-weight:bold;">require</span>` current)) {
      current <span style="color:blue;">&lt;-</span> input.forward().current()
    }
    <span style="font-weight:bold;">return</span> input
  }

  parseOperatorSymbols (input) (output) {
    \ input.reset()
    output <span style="color:blue;">&lt;-</span> <span style="color:DarkCyan; font-weight:bold;">empty</span>
    optional <span style="color:DarkBlue; font-weight:bold;">Char</span> current <span style="color:blue;">&lt;-</span> input.current()
    <span style="font-weight:bold;">while</span> (`<span style="color:DarkGreen; font-weight:bold;">present</span>` current <span style="color:BlueViolet;">&amp;&amp;</span> `operatorChars.member` `<span style="color:DarkGreen; font-weight:bold;">require</span>` current) {
      current <span style="color:blue;">&lt;-</span> input.forward().current()
      output <span style="color:blue;">&lt;-</span> input
    }
  }

  parseEscapedChar (input) {
    <span style="font-weight:bold;">scoped</span> {
      optional <span style="color:DarkBlue; font-weight:bold;">Char</span> current <span style="color:blue;">&lt;-</span> input.current()
    } <span style="font-weight:bold;">in</span> <span style="font-weight:bold;">if</span> (<span style="color:BlueViolet;">!</span> `<span style="color:DarkGreen; font-weight:bold;">present</span>` current) {
      <span style="font-weight:bold;">return</span> <span style="color:DarkCyan; font-weight:bold;">empty</span>
    } <span style="font-weight:bold;">elif</span> (`<span style="color:DarkGreen; font-weight:bold;">require</span>` current <span style="color:BlueViolet;">==</span> <span style="color:DarkViolet;">&apos;x&apos;</span>) {
      <span style="color:DarkGray; font-style:italic;">// Hex escaped char.</span>
      <span style="font-weight:bold;">traverse</span> (<span style="color:DarkBlue;">Counter</span>.zeroIndexed(<span style="color:GoldenRod;">2</span>) <span style="color:blue;">-&gt;</span> _) {
        current <span style="color:blue;">&lt;-</span> input.forward().current()
        <span style="font-weight:bold;">if</span> (<span style="color:BlueViolet;">!</span> `<span style="color:DarkGreen; font-weight:bold;">present</span>` current <span style="color:BlueViolet;">||</span> <span style="color:BlueViolet;">!</span><span style="color:DarkBlue;">CharType</span>.hexDigit(`<span style="color:DarkGreen; font-weight:bold;">require</span>` current)) {
          <span style="font-weight:bold;">return</span> <span style="color:DarkCyan; font-weight:bold;">empty</span>
        }
      }
      \ input.forward()
    } <span style="font-weight:bold;">elif</span> (<span style="color:DarkBlue;">CharType</span>.octDigit(`<span style="color:DarkGreen; font-weight:bold;">require</span>` current)) {
      <span style="color:DarkGray; font-style:italic;">// Oct escaped char.</span>
      <span style="font-weight:bold;">traverse</span> (<span style="color:DarkBlue;">Counter</span>.zeroIndexed(<span style="color:GoldenRod;">2</span>) <span style="color:blue;">-&gt;</span> _) {
        current <span style="color:blue;">&lt;-</span> input.forward().current()
        <span style="font-weight:bold;">if</span> (<span style="color:BlueViolet;">!</span> `<span style="color:DarkGreen; font-weight:bold;">present</span>` current <span style="color:BlueViolet;">||</span> <span style="color:BlueViolet;">!</span><span style="color:DarkBlue;">CharType</span>.octDigit(`<span style="color:DarkGreen; font-weight:bold;">require</span>` current)) {
          <span style="font-weight:bold;">return</span> <span style="color:DarkCyan; font-weight:bold;">empty</span>
        }
      }
      \ input.forward()
    } <span style="font-weight:bold;">elif</span> (`escapedChars.member` `<span style="color:DarkGreen; font-weight:bold;">require</span>` current) {
      <span style="color:DarkGray; font-style:italic;">// Single escaped char.</span>
      \ input.forward()
    } <span style="font-weight:bold;">else</span> {
      <span style="color:DarkGray; font-style:italic;">// Invalid escaped char.</span>
      \ input.forward()
      <span style="font-weight:bold;">return</span> <span style="color:DarkCyan; font-weight:bold;">empty</span>
    }
    <span style="font-weight:bold;">return</span> input
  }

  tryControlKeyword (value) (type) {
    type <span style="color:blue;">&lt;-</span> <span style="color:DarkCyan; font-weight:bold;">empty</span>
    <span style="font-weight:bold;">if</span> (`controlKeywords.member` value) {
      type <span style="color:blue;">&lt;-</span> <span style="color:DeepPink;">&quot;ZeoliteControlKeyword&quot;</span>
    }
  }

  tryTypeKeyword (value) (type) {
    type <span style="color:blue;">&lt;-</span> <span style="color:DarkCyan; font-weight:bold;">empty</span>
    <span style="font-weight:bold;">if</span> (`typeKeywords.member` value) {
      type <span style="color:blue;">&lt;-</span> <span style="color:DeepPink;">&quot;ZeoliteTypeKeyword&quot;</span>
    }
  }

  tryContainKeyword (value) (type) {
    type <span style="color:blue;">&lt;-</span> <span style="color:DarkCyan; font-weight:bold;">empty</span>
    <span style="font-weight:bold;">if</span> (`containKeywords.member` value) {
      type <span style="color:blue;">&lt;-</span> <span style="color:DeepPink;">&quot;ZeoliteContainKeyword&quot;</span>
    }
  }

  tryStorageKeyword (value) (type) {
    type <span style="color:blue;">&lt;-</span> <span style="color:DarkCyan; font-weight:bold;">empty</span>
    <span style="font-weight:bold;">if</span> (`storageKeywords.member` value) {
      type <span style="color:blue;">&lt;-</span> <span style="color:DeepPink;">&quot;ZeoliteStorageKeyword&quot;</span>
    }
  }

  tryScopeQualifier (value) (type) {
    type <span style="color:blue;">&lt;-</span> <span style="color:DarkCyan; font-weight:bold;">empty</span>
    <span style="font-weight:bold;">if</span> (`scopeQualifiers.member` value) {
      type <span style="color:blue;">&lt;-</span> <span style="color:DeepPink;">&quot;ZeoliteScopeQualifier&quot;</span>
    }
  }

  tryTestcaseKeyword (value) (type) {
    type <span style="color:blue;">&lt;-</span> <span style="color:DarkCyan; font-weight:bold;">empty</span>
    <span style="font-weight:bold;">if</span> (`testcaseKeywords.member` value) {
      type <span style="color:blue;">&lt;-</span> <span style="color:DeepPink;">&quot;ZeoliteTestcaseKeyword&quot;</span>
    }
  }

  tryBuiltinCategory (value) (type) {
    type <span style="color:blue;">&lt;-</span> <span style="color:DarkCyan; font-weight:bold;">empty</span>
    <span style="font-weight:bold;">if</span> (`builtinCategries.member` value) {
      type <span style="color:blue;">&lt;-</span> <span style="color:DeepPink;">&quot;ZeoliteBuiltinCategory&quot;</span>
    }
  }

  tryBuiltinFunction (value) (type) {
    type <span style="color:blue;">&lt;-</span> <span style="color:DarkCyan; font-weight:bold;">empty</span>
    <span style="font-weight:bold;">if</span> (`builtinFunctions.member` value) {
      type <span style="color:blue;">&lt;-</span> <span style="color:DeepPink;">&quot;ZeoliteBuiltinFunction&quot;</span>
    }
  }

  tryBuiltinConstant (value) (type) {
    type <span style="color:blue;">&lt;-</span> <span style="color:DarkCyan; font-weight:bold;">empty</span>
    <span style="font-weight:bold;">if</span> (`builtinConstants.member` value) {
      type <span style="color:blue;">&lt;-</span> <span style="color:DeepPink;">&quot;ZeoliteBuiltinConstant&quot;</span>
    }
  }

  tryAssignment (value) (type) {
    type <span style="color:blue;">&lt;-</span> <span style="color:DarkCyan; font-weight:bold;">empty</span>
    <span style="font-weight:bold;">if</span> (`assignmentOperators.member` value) {
      type <span style="color:blue;">&lt;-</span> <span style="color:DeepPink;">&quot;ZeoliteAssignment&quot;</span>
    }
  }

  tryBuiltinParam (value) (type) {
    type <span style="color:blue;">&lt;-</span> <span style="color:DarkCyan; font-weight:bold;">empty</span>
    <span style="font-weight:bold;">if</span> (`builtinParams.member` value) {
      type <span style="color:blue;">&lt;-</span> <span style="color:DeepPink;">&quot;ZeoliteBuiltinParam&quot;</span>
    }
  }

  tryFunctionCall (value) (type) {
    type <span style="color:blue;">&lt;-</span> <span style="color:DarkCyan; font-weight:bold;">empty</span>
    <span style="font-weight:bold;">if</span> (`functionCallOperators.member` value) {
      type <span style="color:blue;">&lt;-</span> <span style="color:DeepPink;">&quot;ZeoliteFunctionCall&quot;</span>
    }
  }
}
</pre>
<h2>example/highlighter/src/zeolite-tokenizing.0rp</h2>
<pre style="background:#fafffa;">
<span style="color:DarkGray; font-style:italic;">/* -----------------------------------------------------------------------------
Copyright 2023-2024 Kevin P. Barry

Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
----------------------------------------------------------------------------- */</span>

<span style="color:DarkGray; font-style:italic;">// Author: Kevin P. Barry [ta0kira@gmail.com]</span>

<span style="color:DarkSalmon; font-style:italic;">&dollar;<span style="color:DarkSalmon; font-style:italic; font-weight:bold;">ModuleOnly</span>&dollar;</span>

<span style="color:Indigo; font-weight:bold;">concrete</span> <span style="color:DarkBlue;">ZeoliteWhitespace</span> {
  defines <span style="color:DarkBlue;">NamedTokenizer</span>
}

<span style="color:Indigo; font-weight:bold;">concrete</span> <span style="color:DarkBlue;">ZeoliteLineComment</span> {
  defines <span style="color:DarkBlue;">NamedTokenizer</span>
}

<span style="color:Indigo; font-weight:bold;">concrete</span> <span style="color:DarkBlue;">ZeoliteBlockComment</span> {
  defines <span style="color:DarkBlue;">NamedTokenizer</span>
}

<span style="color:Indigo; font-weight:bold;">concrete</span> <span style="color:DarkBlue;">ZeoliteUpperSymbol</span> {
  defines <span style="color:DarkBlue;">NamedTokenizer</span>
}

<span style="color:Indigo; font-weight:bold;">concrete</span> <span style="color:DarkBlue;">ZeoliteLowerSymbol</span> {
  defines <span style="color:DarkBlue;">NamedTokenizer</span>
}

<span style="color:Indigo; font-weight:bold;">concrete</span> <span style="color:DarkBlue;">ZeoliteScopeQualifier</span> {
  defines <span style="color:DarkBlue;">NamedTokenizer</span>
}

<span style="color:Indigo; font-weight:bold;">concrete</span> <span style="color:DarkBlue;">ZeoliteOperator</span> {
  defines <span style="color:DarkBlue;">NamedTokenizer</span>
}

<span style="color:Indigo; font-weight:bold;">concrete</span> <span style="color:DarkBlue;">ZeoliteParamName</span> {
  defines <span style="color:DarkBlue;">NamedTokenizer</span>
}

<span style="color:Indigo; font-weight:bold;">concrete</span> <span style="color:DarkBlue;">ZeoliteStringLiteral</span> {
  defines <span style="color:DarkBlue;">NamedTokenizer</span>
}

<span style="color:Indigo; font-weight:bold;">concrete</span> <span style="color:DarkBlue;">ZeoliteCharLiteral</span> {
  defines <span style="color:DarkBlue;">NamedTokenizer</span>
}

<span style="color:Indigo; font-weight:bold;">concrete</span> <span style="color:DarkBlue;">ZeoliteNumber</span> {
  defines <span style="color:DarkBlue;">NamedTokenizer</span>
}

<span style="color:Indigo; font-weight:bold;">concrete</span> <span style="color:DarkBlue;">ZeoliteBraceSection</span> {
  defines <span style="color:DarkBlue;">NamedTokenizer</span>
}

<span style="color:Indigo; font-weight:bold;">concrete</span> <span style="color:DarkBlue;">ZeoliteParenSection</span> {
  defines <span style="color:DarkBlue;">NamedTokenizer</span>
}

<span style="color:Indigo; font-weight:bold;">concrete</span> <span style="color:DarkBlue;">ZeoliteSquareSection</span> {
  defines <span style="color:DarkBlue;">NamedTokenizer</span>
}

<span style="color:Indigo; font-weight:bold;">concrete</span> <span style="color:DarkBlue;">ZeolitePragma</span> {
  defines <span style="color:DarkBlue;">NamedTokenizer</span>
}

<span style="color:Indigo; font-weight:bold;">concrete</span> <span style="color:DarkBlue;">ZeoliteExtras</span> {
  defines <span style="color:DarkBlue;">NamedTokenizer</span>
}

<span style="color:DarkGray; font-style:italic;">// NOTE: Uses the following if available:</span>
<span style="color:DarkGray; font-style:italic;">// - ZeoliteStringLiteral (required)</span>
<span style="color:DarkGray; font-style:italic;">// - ZeoliteLowerSymbol (required)</span>
<span style="color:DarkGray; font-style:italic;">// - ZeoliteSquareSection</span>
<span style="color:DarkGray; font-style:italic;">// - ZeoliteUpperSymbol</span>
<span style="color:DarkGray; font-style:italic;">// - ZeoliteNumber</span>
<span style="color:DarkGray; font-style:italic;">// - ZeoliteOperator</span>
<span style="color:Indigo; font-weight:bold;">concrete</span> <span style="color:DarkBlue;">ZeoliteTestcase</span> {
  defines <span style="color:DarkBlue;">NamedTokenizer</span>
}
</pre>
<h2>example/highlighter/src/zeolite-tokenizing.0rx</h2>
<pre style="background:#fafffa;">
<span style="color:DarkGray; font-style:italic;">/* -----------------------------------------------------------------------------
Copyright 2023-2024 Kevin P. Barry

Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
----------------------------------------------------------------------------- */</span>

<span style="color:DarkGray; font-style:italic;">// Author: Kevin P. Barry [ta0kira@gmail.com]</span>

<span style="color:Indigo; font-weight:bold;">define</span> <span style="color:DarkBlue;">ZeoliteWhitespace</span> {
  refines <span style="color:DarkBlue;">Tokenizer</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParseContext</span>, <span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;</span>

  tokenizer () {
    <span style="font-weight:bold;">return</span> <span style="font-weight:bold;">delegate</span> <span style="color:blue;">-&gt;</span> <span style="color:DarkBlue; font-weight:bold;">&num;self</span>
  }

  tokenizerName () {
    <span style="font-weight:bold;">return</span> <span style="color:DarkGreen; font-weight:bold;">typename</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">&num;self</span><span style="color:BlueViolet;">&gt;</span>().formatted()
  }

  tokenize (input, context) (token) {
    \ input.reset()
    token <span style="color:blue;">&lt;-</span> <span style="color:DarkCyan; font-weight:bold;">empty</span>
    optional <span style="color:DarkBlue; font-weight:bold;">Char</span> current <span style="color:blue;">&lt;-</span> input.current()
    <span style="font-weight:bold;">while</span> (`<span style="color:DarkGreen; font-weight:bold;">present</span>` current <span style="color:BlueViolet;">&amp;&amp;</span> <span style="color:DarkBlue;">CharType</span>.whitespace(`<span style="color:DarkGreen; font-weight:bold;">require</span>` current)) {
      current <span style="color:blue;">&lt;-</span> input.forward().current()
    }
    <span style="font-weight:bold;">scoped</span> {
      <span style="color:DarkBlue; font-weight:bold;">String</span> content <span style="color:blue;">&lt;-</span> input.take()
    } <span style="font-weight:bold;">in</span> <span style="font-weight:bold;">if</span> (content.size() <span style="color:BlueViolet;">&gt;</span> <span style="color:GoldenRod;">0</span>) {
      token <span style="color:blue;">&lt;-</span> <span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> tokenizerName(), <span style="color:green;">content:</span> content)
    }
  }
}

<span style="color:Indigo; font-weight:bold;">define</span> <span style="color:DarkBlue;">ZeoliteLineComment</span> {
  refines <span style="color:DarkBlue;">Tokenizer</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParseContext</span>, <span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;</span>

  tokenizer () {
    <span style="font-weight:bold;">return</span> <span style="font-weight:bold;">delegate</span> <span style="color:blue;">-&gt;</span> <span style="color:DarkBlue; font-weight:bold;">&num;self</span>
  }

  tokenizerName () {
    <span style="font-weight:bold;">return</span> <span style="color:DarkGreen; font-weight:bold;">typename</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">&num;self</span><span style="color:BlueViolet;">&gt;</span>().formatted()
  }

  tokenize (input, context) (token) {
    \ input.reset()
    token <span style="color:blue;">&lt;-</span> <span style="color:DarkCyan; font-weight:bold;">empty</span>
    \ input.forward().forward()
    <span style="font-weight:bold;">if</span> (input.preview() <span style="color:BlueViolet;">!=</span> <span style="color:DeepPink;">&quot;//&quot;</span>) {
      <span style="font-weight:bold;">return</span> _
    }
    optional <span style="color:DarkBlue; font-weight:bold;">Char</span> current <span style="color:blue;">&lt;-</span> input.current()
    <span style="font-weight:bold;">while</span> (`<span style="color:DarkGreen; font-weight:bold;">present</span>` current <span style="color:BlueViolet;">&amp;&amp;</span> <span style="color:BlueViolet;">!</span><span style="color:DarkBlue;">CharType</span>.oneOf(`<span style="color:DarkGreen; font-weight:bold;">require</span>` current, <span style="color:DeepPink;">&quot;<span style="color:DarkMagenta;">\r</span><span style="color:DarkMagenta;">\n</span>&quot;</span>)) {
      current <span style="color:blue;">&lt;-</span> input.forward().current()
    }
    token <span style="color:blue;">&lt;-</span> <span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> tokenizerName(), <span style="color:green;">content:</span> input.take())
  }
}

<span style="color:Indigo; font-weight:bold;">define</span> <span style="color:DarkBlue;">ZeoliteBlockComment</span> {
  refines <span style="color:DarkBlue;">Tokenizer</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParseContext</span>, <span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;</span>

  tokenizer () {
    <span style="font-weight:bold;">return</span> <span style="font-weight:bold;">delegate</span> <span style="color:blue;">-&gt;</span> <span style="color:DarkBlue; font-weight:bold;">&num;self</span>
  }

  tokenizerName () {
    <span style="font-weight:bold;">return</span> <span style="color:DarkGreen; font-weight:bold;">typename</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">&num;self</span><span style="color:BlueViolet;">&gt;</span>().formatted()
  }

  tokenize (input, context) (token) {
    \ input.reset()
    token <span style="color:blue;">&lt;-</span> <span style="color:DarkCyan; font-weight:bold;">empty</span>
    \ input.forward().forward()
    <span style="font-weight:bold;">if</span> (input.preview() <span style="color:BlueViolet;">!=</span> <span style="color:DeepPink;">&quot;/*&quot;</span>) {
      <span style="font-weight:bold;">return</span> _
    }
    <span style="font-weight:bold;">scoped</span> {
      optional <span style="color:DarkBlue; font-weight:bold;">Char</span> current <span style="color:blue;">&lt;-</span> <span style="color:DarkCyan; font-weight:bold;">empty</span>
      <span style="color:DarkBlue; font-weight:bold;">Bool</span> starFound <span style="color:blue;">&lt;-</span> <span style="color:DarkCyan; font-weight:bold;">false</span>
    } <span style="font-weight:bold;">in</span> <span style="font-weight:bold;">while</span> (`<span style="color:DarkGreen; font-weight:bold;">present</span>` (current <span style="color:blue;">&lt;-</span> input.current())) {
      <span style="font-weight:bold;">if</span> (starFound <span style="color:BlueViolet;">&amp;&amp;</span> `<span style="color:DarkGreen; font-weight:bold;">require</span>` current <span style="color:BlueViolet;">==</span> <span style="color:DarkViolet;">&apos;/&apos;</span>) {
        \ input.forward()
        <span style="font-weight:bold;">break</span>
      } <span style="font-weight:bold;">else</span> {
        starFound <span style="color:blue;">&lt;-</span> `<span style="color:DarkGreen; font-weight:bold;">require</span>` current <span style="color:BlueViolet;">==</span> <span style="color:DarkViolet;">&apos;*&apos;</span>
      }
    } <span style="font-weight:bold;">update</span> {
      \ input.forward()
    }
    token <span style="color:blue;">&lt;-</span> <span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> tokenizerName(), <span style="color:green;">content:</span> input.take())
  }
}

<span style="color:Indigo; font-weight:bold;">define</span> <span style="color:DarkBlue;">ZeoliteUpperSymbol</span> {
  refines <span style="color:DarkBlue;">Tokenizer</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParseContext</span>, <span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;</span>

  tokenizer () {
    <span style="font-weight:bold;">return</span> <span style="font-weight:bold;">delegate</span> <span style="color:blue;">-&gt;</span> <span style="color:DarkBlue; font-weight:bold;">&num;self</span>
  }

  tokenizerName () {
    <span style="font-weight:bold;">return</span> <span style="color:DarkGreen; font-weight:bold;">typename</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">&num;self</span><span style="color:BlueViolet;">&gt;</span>().formatted()
  }

  tokenize (input, _) {
    optional <span style="color:DarkBlue; font-weight:bold;">String</span> content <span style="color:blue;">&lt;-</span> <span style="color:DarkBlue;">ZeoliteSymbol</span>.parseUpperSymbol(input)&amp;.take()
    <span style="font-weight:bold;">if</span> (<span style="color:BlueViolet;">!</span> `<span style="color:DarkGreen; font-weight:bold;">present</span>` content) {
      <span style="font-weight:bold;">return</span> <span style="color:DarkCyan; font-weight:bold;">empty</span>
    } <span style="font-weight:bold;">else</span> {
      <span style="color:DarkBlue; font-weight:bold;">String</span> type <span style="color:blue;">&lt;-</span>  <span style="color:DarkBlue;">ZeoliteSymbol</span>.tryBuiltinCategory(`<span style="color:DarkGreen; font-weight:bold;">require</span>` content)
                  <span style="color:BlueViolet;">&lt;||</span> <span style="color:DeepPink;">&quot;ZeoliteCategoryName&quot;</span>
      <span style="font-weight:bold;">return</span> <span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> type, <span style="color:green;">content:</span> `<span style="color:DarkGreen; font-weight:bold;">require</span>` content)
    }
  }
}

<span style="color:Indigo; font-weight:bold;">define</span> <span style="color:DarkBlue;">ZeoliteLowerSymbol</span> {
  refines <span style="color:DarkBlue;">Tokenizer</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParseContext</span>, <span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;</span>

  tokenizer () {
    <span style="font-weight:bold;">return</span> <span style="font-weight:bold;">delegate</span> <span style="color:blue;">-&gt;</span> <span style="color:DarkBlue; font-weight:bold;">&num;self</span>
  }

  tokenizerName () {
    <span style="font-weight:bold;">return</span> <span style="color:DarkGreen; font-weight:bold;">typename</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">&num;self</span><span style="color:BlueViolet;">&gt;</span>().formatted()
  }

  tokenize (input, _) {
    optional <span style="color:DarkBlue; font-weight:bold;">String</span> content <span style="color:blue;">&lt;-</span> <span style="color:DarkBlue;">ZeoliteSymbol</span>.parseLowerSymbol(input)&amp;.preview()
    <span style="font-weight:bold;">if</span> (<span style="color:BlueViolet;">!</span> `<span style="color:DarkGreen; font-weight:bold;">present</span>` content) {
      <span style="font-weight:bold;">return</span> <span style="color:DarkCyan; font-weight:bold;">empty</span>
    } <span style="font-weight:bold;">else</span> {
      <span style="color:DarkBlue; font-weight:bold;">String</span> type <span style="color:blue;">&lt;-</span>  <span style="color:DarkBlue;">ZeoliteSymbol</span>.tryControlKeyword(`<span style="color:DarkGreen; font-weight:bold;">require</span>` content)
                  <span style="color:BlueViolet;">&lt;||</span> <span style="color:DarkBlue;">ZeoliteSymbol</span>.tryTypeKeyword(`<span style="color:DarkGreen; font-weight:bold;">require</span>` content)
                  <span style="color:BlueViolet;">&lt;||</span> <span style="color:DarkBlue;">ZeoliteSymbol</span>.tryContainKeyword(`<span style="color:DarkGreen; font-weight:bold;">require</span>` content)
                  <span style="color:BlueViolet;">&lt;||</span> <span style="color:DarkBlue;">ZeoliteSymbol</span>.tryStorageKeyword(`<span style="color:DarkGreen; font-weight:bold;">require</span>` content)
                  <span style="color:BlueViolet;">&lt;||</span> <span style="color:DarkBlue;">ZeoliteSymbol</span>.tryScopeQualifier(`<span style="color:DarkGreen; font-weight:bold;">require</span>` content)
                  <span style="color:BlueViolet;">&lt;||</span> <span style="color:DarkBlue;">ZeoliteSymbol</span>.tryBuiltinCategory(`<span style="color:DarkGreen; font-weight:bold;">require</span>` content)
                  <span style="color:BlueViolet;">&lt;||</span> <span style="color:DarkBlue;">ZeoliteSymbol</span>.tryBuiltinFunction(`<span style="color:DarkGreen; font-weight:bold;">require</span>` content)
                  <span style="color:BlueViolet;">&lt;||</span> <span style="color:DarkBlue;">ZeoliteSymbol</span>.tryBuiltinConstant(`<span style="color:DarkGreen; font-weight:bold;">require</span>` content)
                  <span style="color:BlueViolet;">&lt;||</span> tryLabel(input)
                  <span style="color:BlueViolet;">&lt;||</span> <span style="color:DeepPink;">&quot;ZeoliteFunctionOrVariableName&quot;</span>
      <span style="color:DarkSalmon; font-style:italic;">&dollar;<span style="color:DarkSalmon; font-style:italic; font-weight:bold;">Hidden</span>[content]&dollar;</span>
      <span style="font-weight:bold;">return</span> <span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> type, <span style="color:green;">content:</span> input.take())
    }
  }

  <span style="color:Indigo; font-weight:bold;">@type</span> tryLabel (<span style="color:DarkBlue;">TextStream</span>) <span style="color:blue;">-&gt;</span> (optional <span style="color:DarkBlue; font-weight:bold;">String</span>)
  tryLabel (input) {
    <span style="font-weight:bold;">if</span> (`<span style="color:DarkGreen; font-weight:bold;">present</span>` input.current() <span style="color:BlueViolet;">&amp;&amp;</span> `<span style="color:DarkGreen; font-weight:bold;">require</span>` input.current() <span style="color:BlueViolet;">==</span> <span style="color:DarkViolet;">&apos;:&apos;</span>) {
      \ input.forward()
      <span style="font-weight:bold;">return</span> <span style="color:DeepPink;">&quot;ZeoliteArgLabel&quot;</span>
    } <span style="font-weight:bold;">else</span> {
      <span style="font-weight:bold;">return</span> <span style="color:DarkCyan; font-weight:bold;">empty</span>
    }
  }
}

<span style="color:Indigo; font-weight:bold;">define</span> <span style="color:DarkBlue;">ZeoliteScopeQualifier</span> {
  refines <span style="color:DarkBlue;">Tokenizer</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParseContext</span>, <span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;</span>

  tokenizer () {
    <span style="font-weight:bold;">return</span> <span style="font-weight:bold;">delegate</span> <span style="color:blue;">-&gt;</span> <span style="color:DarkBlue; font-weight:bold;">&num;self</span>
  }

  tokenizerName () {
    <span style="font-weight:bold;">return</span> <span style="color:DarkGreen; font-weight:bold;">typename</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">&num;self</span><span style="color:BlueViolet;">&gt;</span>().formatted()
  }

  tokenize (input, _) {
    optional <span style="color:DarkBlue; font-weight:bold;">String</span> content <span style="color:blue;">&lt;-</span> <span style="color:DarkBlue;">ZeoliteSymbol</span>.parseScopeQualifier(input)&amp;.take()
    <span style="font-weight:bold;">if</span> (<span style="color:BlueViolet;">!</span> `<span style="color:DarkGreen; font-weight:bold;">present</span>` content) {
      <span style="font-weight:bold;">return</span> <span style="color:DarkCyan; font-weight:bold;">empty</span>
    } <span style="font-weight:bold;">else</span> {
      <span style="color:DarkBlue; font-weight:bold;">String</span> type <span style="color:blue;">&lt;-</span>  <span style="color:DarkBlue;">ZeoliteSymbol</span>.tryScopeQualifier(`<span style="color:DarkGreen; font-weight:bold;">require</span>` content)
                  <span style="color:BlueViolet;">&lt;||</span> <span style="color:DeepPink;">&quot;ZeoliteError&quot;</span>
      <span style="font-weight:bold;">return</span> <span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> type, <span style="color:green;">content:</span> `<span style="color:DarkGreen; font-weight:bold;">require</span>` content)
    }
  }
}

<span style="color:Indigo; font-weight:bold;">define</span> <span style="color:DarkBlue;">ZeoliteOperator</span> {
  refines <span style="color:DarkBlue;">Tokenizer</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParseContext</span>, <span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;</span>

  tokenizer () {
    <span style="font-weight:bold;">return</span> <span style="font-weight:bold;">delegate</span> <span style="color:blue;">-&gt;</span> <span style="color:DarkBlue; font-weight:bold;">&num;self</span>
  }

  tokenizerName () {
    <span style="font-weight:bold;">return</span> <span style="color:DarkGreen; font-weight:bold;">typename</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">&num;self</span><span style="color:BlueViolet;">&gt;</span>().formatted()
  }

  tokenize (input, _) {
    optional <span style="color:DarkBlue; font-weight:bold;">String</span> content <span style="color:blue;">&lt;-</span> <span style="color:DarkBlue;">ZeoliteSymbol</span>.parseOperatorSymbols(input)&amp;.take()
    <span style="font-weight:bold;">if</span> (<span style="color:BlueViolet;">!</span> `<span style="color:DarkGreen; font-weight:bold;">present</span>` content) {
      <span style="font-weight:bold;">return</span> <span style="color:DarkCyan; font-weight:bold;">empty</span>
    } <span style="font-weight:bold;">else</span> {
      <span style="color:DarkBlue; font-weight:bold;">String</span> type <span style="color:blue;">&lt;-</span>  <span style="color:DarkBlue;">ZeoliteSymbol</span>.tryAssignment(`<span style="color:DarkGreen; font-weight:bold;">require</span>` content)
                  <span style="color:BlueViolet;">&lt;||</span> <span style="color:DarkBlue;">ZeoliteSymbol</span>.tryFunctionCall(`<span style="color:DarkGreen; font-weight:bold;">require</span>` content)
                  <span style="color:BlueViolet;">&lt;||</span> <span style="color:DeepPink;">&quot;ZeoliteOperator&quot;</span>
      <span style="font-weight:bold;">return</span> <span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> type, <span style="color:green;">content:</span> `<span style="color:DarkGreen; font-weight:bold;">require</span>` content)
    }
  }
}

<span style="color:Indigo; font-weight:bold;">define</span> <span style="color:DarkBlue;">ZeoliteParamName</span> {
  refines <span style="color:DarkBlue;">Tokenizer</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParseContext</span>, <span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;</span>

  tokenizer () {
    <span style="font-weight:bold;">return</span> <span style="font-weight:bold;">delegate</span> <span style="color:blue;">-&gt;</span> <span style="color:DarkBlue; font-weight:bold;">&num;self</span>
  }

  tokenizerName () {
    <span style="font-weight:bold;">return</span> <span style="color:DarkGreen; font-weight:bold;">typename</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">&num;self</span><span style="color:BlueViolet;">&gt;</span>().formatted()
  }

  tokenize (input, context) {
    optional <span style="color:DarkBlue; font-weight:bold;">String</span> content <span style="color:blue;">&lt;-</span> <span style="color:DarkBlue;">ZeoliteSymbol</span>.parseParamName(input)&amp;.take()
    <span style="font-weight:bold;">if</span> (<span style="color:BlueViolet;">!</span> `<span style="color:DarkGreen; font-weight:bold;">present</span>` content) {
      <span style="font-weight:bold;">return</span> <span style="color:DarkCyan; font-weight:bold;">empty</span>
    } <span style="font-weight:bold;">else</span> {
      <span style="color:DarkBlue; font-weight:bold;">String</span> type <span style="color:blue;">&lt;-</span>  <span style="color:DarkBlue;">ZeoliteSymbol</span>.tryBuiltinParam(`<span style="color:DarkGreen; font-weight:bold;">require</span>` content)
                  <span style="color:BlueViolet;">&lt;||</span> <span style="color:DeepPink;">&quot;ZeoliteParamName&quot;</span>
      <span style="font-weight:bold;">return</span> <span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> type, <span style="color:green;">content:</span> `<span style="color:DarkGreen; font-weight:bold;">require</span>` content)
    }
  }
}

<span style="color:Indigo; font-weight:bold;">concrete</span> <span style="color:DarkBlue;">ZeoliteTestcaseKeyword</span> {
  defines <span style="color:DarkBlue; font-weight:bold;">Default</span>
  refines <span style="color:DarkBlue;">Tokenizer</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParseContext</span>, <span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;</span>
}

<span style="color:Indigo; font-weight:bold;">define</span> <span style="color:DarkBlue;">ZeoliteTestcaseKeyword</span> {
  default () {
    <span style="font-weight:bold;">return</span> <span style="font-weight:bold;">delegate</span> <span style="color:blue;">-&gt;</span> <span style="color:DarkBlue; font-weight:bold;">&num;self</span>
  }

  tokenize (input, context) (token) {
    token <span style="color:blue;">&lt;-</span> <span style="color:DarkCyan; font-weight:bold;">empty</span>
    <span style="font-weight:bold;">scoped</span> {
      optional <span style="color:DarkBlue; font-weight:bold;">String</span> content <span style="color:blue;">&lt;-</span> <span style="color:DarkBlue;">ZeoliteSymbol</span>.parseLowerSymbol(input)&amp;.preview()
    } <span style="font-weight:bold;">in</span> <span style="font-weight:bold;">if</span> (<span style="color:BlueViolet;">!</span> `<span style="color:DarkGreen; font-weight:bold;">present</span>` content) {
      <span style="font-weight:bold;">return</span> <span style="color:DarkCyan; font-weight:bold;">empty</span>
    } <span style="font-weight:bold;">else</span> {
      optional <span style="color:DarkBlue; font-weight:bold;">String</span> type <span style="color:blue;">&lt;-</span> <span style="color:DarkBlue;">ZeoliteSymbol</span>.tryTestcaseKeyword(`<span style="color:DarkGreen; font-weight:bold;">require</span>` content)
      <span style="color:DarkSalmon; font-style:italic;">&dollar;<span style="color:DarkSalmon; font-style:italic; font-weight:bold;">Hidden</span>[content]&dollar;</span>
      <span style="font-weight:bold;">if</span> (`<span style="color:DarkGreen; font-weight:bold;">present</span>` type) {
        token <span style="color:blue;">&lt;-</span> <span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> `<span style="color:DarkGreen; font-weight:bold;">require</span>` type, <span style="color:green;">content:</span> input.take())
      }
    }
  }
}

<span style="color:Indigo; font-weight:bold;">define</span> <span style="color:DarkBlue;">ZeoliteStringLiteral</span> {
  <span style="color:DarkSalmon; font-style:italic;">&dollar;<span style="color:DarkSalmon; font-style:italic; font-weight:bold;">ReadOnlyExcept</span>[]&dollar;</span>

  refines <span style="color:DarkBlue;">Tokenizer</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParseContext</span>, <span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;</span>

  tokenizer () {
    <span style="font-weight:bold;">return</span> <span style="font-weight:bold;">delegate</span> <span style="color:blue;">-&gt;</span> <span style="color:DarkBlue; font-weight:bold;">&num;self</span>
  }

  tokenizerName () {
    <span style="font-weight:bold;">return</span> <span style="color:DarkGreen; font-weight:bold;">typename</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">&num;self</span><span style="color:BlueViolet;">&gt;</span>().formatted()
  }

  tokenize (input, context) (token) {
    \ input.reset()
    token <span style="color:blue;">&lt;-</span> <span style="color:DarkCyan; font-weight:bold;">empty</span>
    <span style="font-weight:bold;">if</span> (input.atEnd() <span style="color:BlueViolet;">||</span> `<span style="color:DarkGreen; font-weight:bold;">require</span>` input.current() <span style="color:BlueViolet;">!=</span> <span style="color:DarkViolet;">&apos;&quot;&apos;</span>) {
      <span style="font-weight:bold;">return</span> _
    }
    <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;</span> subsections <span style="color:blue;">&lt;-</span> <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
    <span style="color:DarkGray; font-style:italic;">// Setting this early still allows building it incrementally while also</span>
    <span style="color:DarkGray; font-style:italic;">// allowing an early return if something is missing.</span>
    token <span style="color:blue;">&lt;-</span> <span style="color:DarkBlue;">ZeoliteParsed</span>.section(<span style="color:green;">label:</span> tokenizerName(), subsections)
    \ subsections.append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteDoubleQuote&quot;</span>, <span style="color:green;">content:</span> input.forward().take()))

    <span style="font-weight:bold;">scoped</span> {
      optional <span style="color:DarkBlue; font-weight:bold;">Char</span> current <span style="color:blue;">&lt;-</span> <span style="color:DarkCyan; font-weight:bold;">empty</span>
    } <span style="font-weight:bold;">in</span> <span style="font-weight:bold;">while</span> (<span style="color:BlueViolet;">!</span>input.atEnd() <span style="color:BlueViolet;">&amp;&amp;</span> `<span style="color:DarkGreen; font-weight:bold;">present</span>` (current <span style="color:blue;">&lt;-</span> input.current())) {
      <span style="font-weight:bold;">if</span> (`<span style="color:DarkGreen; font-weight:bold;">require</span>` current <span style="color:BlueViolet;">==</span> <span style="color:DarkViolet;">&apos;<span style="color:DarkMagenta;">\&quot;</span>&apos;</span>) {
        \ addCurrentChars(input, subsections)
        \ subsections.append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteDoubleQuote&quot;</span>, <span style="color:green;">content:</span> input.forward().take()))
        <span style="font-weight:bold;">return</span> _
      } <span style="font-weight:bold;">elif</span> (`<span style="color:DarkGreen; font-weight:bold;">require</span>` current <span style="color:BlueViolet;">==</span> <span style="color:DarkViolet;">&apos;<span style="color:DarkMagenta;">\\</span>&apos;</span>) {
        \ addCurrentChars(input, subsections)
        <span style="font-weight:bold;">if</span> (`<span style="color:DarkGreen; font-weight:bold;">present</span>` <span style="color:DarkBlue;">ZeoliteSymbol</span>.parseEscapedChar(input.forward())) {
          \ subsections.append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteEscapedChar&quot;</span>, <span style="color:green;">content:</span> input.take()))
        } <span style="font-weight:bold;">else</span> {
          \ subsections.append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteError&quot;</span>, <span style="color:green;">content:</span> input.take()))
        }
      } <span style="font-weight:bold;">else</span> {
        \ input.forward()
      }
    }
    \ addCurrentChars(input, subsections)
  }

  <span style="color:Indigo; font-weight:bold;">@type</span> addCurrentChars (<span style="color:DarkBlue;">TextStream</span>, <span style="color:DarkBlue; font-weight:bold;">Append</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;</span>) <span style="color:blue;">-&gt;</span> ()
  addCurrentChars (input, output) {
    <span style="font-weight:bold;">if</span> (input.tokenSize() <span style="color:BlueViolet;">&gt;</span> <span style="color:GoldenRod;">0</span>) {
      \ output.append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteQuotedChars&quot;</span>, <span style="color:green;">content:</span> input.take()))
    }
  }
}

<span style="color:Indigo; font-weight:bold;">define</span> <span style="color:DarkBlue;">ZeoliteCharLiteral</span> {
  <span style="color:DarkSalmon; font-style:italic;">&dollar;<span style="color:DarkSalmon; font-style:italic; font-weight:bold;">ReadOnlyExcept</span>[]&dollar;</span>

  refines <span style="color:DarkBlue;">Tokenizer</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParseContext</span>, <span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;</span>

  tokenizer () {
    <span style="font-weight:bold;">return</span> <span style="font-weight:bold;">delegate</span> <span style="color:blue;">-&gt;</span> <span style="color:DarkBlue; font-weight:bold;">&num;self</span>
  }

  tokenizerName () {
    <span style="font-weight:bold;">return</span> <span style="color:DarkGreen; font-weight:bold;">typename</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">&num;self</span><span style="color:BlueViolet;">&gt;</span>().formatted()
  }

  tokenize (input, context) (token) {
    \ input.reset()
    token <span style="color:blue;">&lt;-</span> <span style="color:DarkCyan; font-weight:bold;">empty</span>
    <span style="font-weight:bold;">if</span> (input.atEnd() <span style="color:BlueViolet;">||</span> `<span style="color:DarkGreen; font-weight:bold;">require</span>` input.current() <span style="color:BlueViolet;">!=</span> <span style="color:DarkViolet;">&apos;<span style="color:DarkMagenta;">\&apos;</span>&apos;</span>) {
      <span style="font-weight:bold;">return</span> _
    }
    <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;</span> subsections <span style="color:blue;">&lt;-</span> <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
    <span style="color:DarkGray; font-style:italic;">// Setting this early still allows building it incrementally while also</span>
    <span style="color:DarkGray; font-style:italic;">// allowing an early return if something is missing.</span>
    token <span style="color:blue;">&lt;-</span> <span style="color:DarkBlue;">ZeoliteParsed</span>.section(<span style="color:green;">label:</span> tokenizerName(), subsections)
    \ subsections.append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteSingleQuote&quot;</span>, <span style="color:green;">content:</span> input.forward().take()))

    optional <span style="color:DarkBlue; font-weight:bold;">Char</span> current <span style="color:blue;">&lt;-</span> input.current()
    <span style="font-weight:bold;">if</span> (<span style="color:BlueViolet;">!</span> `<span style="color:DarkGreen; font-weight:bold;">present</span>` current) {
      <span style="font-weight:bold;">return</span> _
    } <span style="font-weight:bold;">elif</span> (`<span style="color:DarkGreen; font-weight:bold;">require</span>` current <span style="color:BlueViolet;">==</span> <span style="color:DarkViolet;">&apos;<span style="color:DarkMagenta;">\\</span>&apos;</span>) {
      <span style="font-weight:bold;">if</span> (`<span style="color:DarkGreen; font-weight:bold;">present</span>` <span style="color:DarkBlue;">ZeoliteSymbol</span>.parseEscapedChar(input.forward())) {
        \ subsections.append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteEscapedChar&quot;</span>, <span style="color:green;">content:</span> input.take()))
      } <span style="font-weight:bold;">else</span> {
        \ subsections.append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteError&quot;</span>, <span style="color:green;">content:</span> input.take()))
      }
    } <span style="font-weight:bold;">elif</span> (`<span style="color:DarkGreen; font-weight:bold;">require</span>` current <span style="color:BlueViolet;">==</span> <span style="color:DarkViolet;">&apos;<span style="color:DarkMagenta;">\&apos;</span>&apos;</span>) {
      \ subsections.append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteError&quot;</span>, <span style="color:green;">content:</span> input.forward().take()))
    } <span style="font-weight:bold;">else</span> {
      \ subsections.append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteQuotedChars&quot;</span>, <span style="color:green;">content:</span> input.forward().take()))
    }
    <span style="font-weight:bold;">if</span> (`<span style="color:DarkGreen; font-weight:bold;">present</span>` (current <span style="color:blue;">&lt;-</span> input.current())) {
      <span style="font-weight:bold;">if</span> (`<span style="color:DarkGreen; font-weight:bold;">require</span>` current <span style="color:BlueViolet;">==</span> <span style="color:DarkViolet;">&apos;<span style="color:DarkMagenta;">\&apos;</span>&apos;</span>) {
        \ subsections.append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteSingleQuote&quot;</span>, <span style="color:green;">content:</span> input.forward().take()))
      } <span style="font-weight:bold;">else</span> {
        \ subsections.append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteError&quot;</span>, <span style="color:green;">content:</span> input.forward().take()))
      }
    }
  }
}

<span style="color:Indigo; font-weight:bold;">define</span> <span style="color:DarkBlue;">ZeoliteNumber</span> {
  <span style="color:DarkSalmon; font-style:italic;">&dollar;<span style="color:DarkSalmon; font-style:italic; font-weight:bold;">ReadOnlyExcept</span>[]&dollar;</span>

  refines <span style="color:DarkBlue;">Tokenizer</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParseContext</span>, <span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;</span>

  tokenizer () {
    <span style="font-weight:bold;">return</span> <span style="font-weight:bold;">delegate</span> <span style="color:blue;">-&gt;</span> <span style="color:DarkBlue; font-weight:bold;">&num;self</span>
  }

  tokenizerName () {
    <span style="font-weight:bold;">return</span> <span style="color:DarkGreen; font-weight:bold;">typename</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">&num;self</span><span style="color:BlueViolet;">&gt;</span>().formatted()
  }

  tokenize (input, context) (token) {
    \ input.reset()
    token <span style="color:blue;">&lt;-</span> <span style="color:DarkCyan; font-weight:bold;">empty</span>
    optional <span style="color:DarkBlue; font-weight:bold;">Char</span> current <span style="color:blue;">&lt;-</span> input.current()
    <span style="font-weight:bold;">if</span> (<span style="color:BlueViolet;">!</span> `<span style="color:DarkGreen; font-weight:bold;">present</span>` current) {
      <span style="font-weight:bold;">return</span> _
    } <span style="font-weight:bold;">elif</span> (<span style="color:DarkBlue;">CharType</span>.digit(`<span style="color:DarkGreen; font-weight:bold;">require</span>` current)) {
      token <span style="color:blue;">&lt;-</span> parseNumber(input, <span style="color:green;">escaped:</span> <span style="color:DarkCyan; font-weight:bold;">false</span>, <span style="color:DarkBlue;">CharType</span>.decChars())
    } <span style="font-weight:bold;">elif</span> (`<span style="color:DarkGreen; font-weight:bold;">require</span>` current `<span style="color:DarkBlue;">CharType</span>.oneOf` <span style="color:DeepPink;">&quot;-+&quot;</span>) {
      \ input.forward()
      token <span style="color:blue;">&lt;-</span> parseNumber(input, <span style="color:green;">escaped:</span> <span style="color:DarkCyan; font-weight:bold;">false</span>, <span style="color:DarkBlue;">CharType</span>.decChars())
    } <span style="font-weight:bold;">elif</span> (`<span style="color:DarkGreen; font-weight:bold;">require</span>` current <span style="color:BlueViolet;">!=</span> <span style="color:DarkViolet;">&apos;<span style="color:DarkMagenta;">\\</span>&apos;</span>) {
      <span style="font-weight:bold;">return</span> _
    } <span style="font-weight:bold;">else</span> {
      current <span style="color:blue;">&lt;-</span> input.forward().current()
      <span style="font-weight:bold;">if</span> (<span style="color:BlueViolet;">!</span> `<span style="color:DarkGreen; font-weight:bold;">present</span>` current) {
        <span style="font-weight:bold;">return</span> _
      } <span style="font-weight:bold;">elif</span> (`<span style="color:DarkGreen; font-weight:bold;">require</span>` current `<span style="color:DarkBlue;">CharType</span>.oneOf` <span style="color:DeepPink;">&quot;bB&quot;</span>) {
        \ input.forward()
        token <span style="color:blue;">&lt;-</span> parseNumber(input, <span style="color:green;">escaped:</span> <span style="color:DarkCyan; font-weight:bold;">true</span>, <span style="color:DarkBlue;">CharType</span>.binChars())
      } <span style="font-weight:bold;">elif</span> (`<span style="color:DarkGreen; font-weight:bold;">require</span>` current `<span style="color:DarkBlue;">CharType</span>.oneOf` <span style="color:DeepPink;">&quot;oO&quot;</span>) {
      \ input.forward()
        token <span style="color:blue;">&lt;-</span> parseNumber(input, <span style="color:green;">escaped:</span> <span style="color:DarkCyan; font-weight:bold;">true</span>, <span style="color:DarkBlue;">CharType</span>.octChars())
      } <span style="font-weight:bold;">elif</span> (`<span style="color:DarkGreen; font-weight:bold;">require</span>` current `<span style="color:DarkBlue;">CharType</span>.oneOf` <span style="color:DeepPink;">&quot;dD&quot;</span>) {
      \ input.forward()
        token <span style="color:blue;">&lt;-</span> parseNumber(input, <span style="color:green;">escaped:</span> <span style="color:DarkCyan; font-weight:bold;">true</span>, <span style="color:DarkBlue;">CharType</span>.decChars())
      } <span style="font-weight:bold;">elif</span> (`<span style="color:DarkGreen; font-weight:bold;">require</span>` current `<span style="color:DarkBlue;">CharType</span>.oneOf` <span style="color:DeepPink;">&quot;xX&quot;</span>) {
      \ input.forward()
        token <span style="color:blue;">&lt;-</span> parseNumber(input, <span style="color:green;">escaped:</span> <span style="color:DarkCyan; font-weight:bold;">true</span>, <span style="color:DarkBlue;">CharType</span>.hexChars())
      } <span style="font-weight:bold;">else</span> {
        <span style="font-weight:bold;">return</span> _
      }
    }
  }

  <span style="color:Indigo; font-weight:bold;">@type</span> parseNumber (<span style="color:DarkBlue;">TextStream</span>, <span style="color:DarkBlue; font-weight:bold;">Bool</span> <span style="color:green;">escaped:</span>, <span style="color:DarkBlue;">SetReader</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">Char</span><span style="color:BlueViolet;">&gt;</span>) <span style="color:blue;">-&gt;</span> (optional <span style="color:DarkBlue;">ZeoliteParsed</span>)
  parseNumber (input, escaped, allowed) {
    <span style="color:DarkBlue; font-weight:bold;">Bool</span> isEmpty <span style="color:blue;">&lt;-</span> <span style="color:DarkCyan; font-weight:bold;">true</span>
    optional <span style="color:DarkBlue; font-weight:bold;">Char</span> current <span style="color:blue;">&lt;-</span> <span style="color:DarkCyan; font-weight:bold;">empty</span>
    <span style="font-weight:bold;">while</span> (`<span style="color:DarkGreen; font-weight:bold;">present</span>` (current <span style="color:blue;">&lt;-</span> input.current()) <span style="color:BlueViolet;">&amp;&amp;</span> `allowed.member` `<span style="color:DarkGreen; font-weight:bold;">require</span>` current) {
      \ input.forward()
      isEmpty <span style="color:blue;">&lt;-</span> <span style="color:DarkCyan; font-weight:bold;">false</span>
    }
    <span style="font-weight:bold;">if</span> (isEmpty) {
      <span style="font-weight:bold;">return</span> <span style="color:DarkCyan; font-weight:bold;">empty</span>
    } <span style="font-weight:bold;">elif</span> (`<span style="color:DarkGreen; font-weight:bold;">present</span>` (current <span style="color:blue;">&lt;-</span> input.current()) <span style="color:BlueViolet;">&amp;&amp;</span> `<span style="color:DarkGreen; font-weight:bold;">require</span>` current <span style="color:BlueViolet;">==</span> <span style="color:DarkViolet;">&apos;.&apos;</span>) {
      \ input.forward()
      <span style="font-weight:bold;">while</span> (`<span style="color:DarkGreen; font-weight:bold;">present</span>` (current <span style="color:blue;">&lt;-</span> input.current()) <span style="color:BlueViolet;">&amp;&amp;</span> `allowed.member` `<span style="color:DarkGreen; font-weight:bold;">require</span>` current) {
        \ input.forward()
      }
    }
    <span style="font-weight:bold;">if</span> (escaped) {
      <span style="font-weight:bold;">return</span> <span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteEscapedNumber&quot;</span>, <span style="color:green;">content:</span> input.take())
    } <span style="font-weight:bold;">elif</span> (`<span style="color:DarkGreen; font-weight:bold;">present</span>` current <span style="color:BlueViolet;">&amp;&amp;</span> `<span style="color:DarkGreen; font-weight:bold;">require</span>` current `<span style="color:DarkBlue;">CharType</span>.oneOf` <span style="color:DeepPink;">&quot;eE&quot;</span>) {
      \ input.forward()
      <span style="font-weight:bold;">if</span> (`<span style="color:DarkGreen; font-weight:bold;">present</span>` (current <span style="color:blue;">&lt;-</span> input.current()) <span style="color:BlueViolet;">&amp;&amp;</span> `<span style="color:DarkGreen; font-weight:bold;">require</span>` current `<span style="color:DarkBlue;">CharType</span>.oneOf` <span style="color:DeepPink;">&quot;-+&quot;</span>) {
        \ input.forward()
      }
      <span style="font-weight:bold;">while</span> (`<span style="color:DarkGreen; font-weight:bold;">present</span>` (current <span style="color:blue;">&lt;-</span> input.current()) <span style="color:BlueViolet;">&amp;&amp;</span> `allowed.member` `<span style="color:DarkGreen; font-weight:bold;">require</span>` current) {
        \ input.forward()
      }
    }
    <span style="font-weight:bold;">return</span> <span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteNumber&quot;</span>, <span style="color:green;">content:</span> input.take())
  }
}

<span style="color:Indigo; font-weight:bold;">define</span> <span style="color:DarkBlue;">ZeoliteBraceSection</span> {
  tokenizer () {
    <span style="font-weight:bold;">return</span> <span style="color:DarkBlue;">ZeoliteDelimSection</span>.new(<span style="color:green;">name:</span> tokenizerName(), <span style="color:green;">open:</span> <span style="color:DarkViolet;">&apos;{&apos;</span>, <span style="color:green;">close:</span> <span style="color:DarkViolet;">&apos;}&apos;</span>, <span style="color:DarkCyan; font-weight:bold;">empty</span>)
  }

  tokenizerName () {
    <span style="font-weight:bold;">return</span> <span style="color:DarkGreen; font-weight:bold;">typename</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">&num;self</span><span style="color:BlueViolet;">&gt;</span>().formatted()
  }
}

<span style="color:Indigo; font-weight:bold;">define</span> <span style="color:DarkBlue;">ZeoliteParenSection</span> {
  tokenizer () {
    <span style="font-weight:bold;">return</span> <span style="color:DarkBlue;">ZeoliteDelimSection</span>.new(<span style="color:green;">name:</span> tokenizerName(), <span style="color:green;">open:</span> <span style="color:DarkViolet;">&apos;(&apos;</span>, <span style="color:green;">close:</span> <span style="color:DarkViolet;">&apos;)&apos;</span>, <span style="color:DarkCyan; font-weight:bold;">empty</span>)
  }

  tokenizerName () {
    <span style="font-weight:bold;">return</span> <span style="color:DarkGreen; font-weight:bold;">typename</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">&num;self</span><span style="color:BlueViolet;">&gt;</span>().formatted()
  }
}

<span style="color:Indigo; font-weight:bold;">define</span> <span style="color:DarkBlue;">ZeoliteSquareSection</span> {
  tokenizer () {
    <span style="font-weight:bold;">return</span> <span style="color:DarkBlue;">ZeoliteDelimSection</span>.new(<span style="color:green;">name:</span> tokenizerName(), <span style="color:green;">open:</span> <span style="color:DarkViolet;">&apos;[&apos;</span>, <span style="color:green;">close:</span> <span style="color:DarkViolet;">&apos;]&apos;</span>, <span style="color:DarkCyan; font-weight:bold;">empty</span>)
  }

  tokenizerName () {
    <span style="font-weight:bold;">return</span> <span style="color:DarkGreen; font-weight:bold;">typename</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">&num;self</span><span style="color:BlueViolet;">&gt;</span>().formatted()
  }
}

<span style="color:Indigo; font-weight:bold;">define</span> <span style="color:DarkBlue;">ZeolitePragma</span> {
  <span style="color:DarkSalmon; font-style:italic;">&dollar;<span style="color:DarkSalmon; font-style:italic; font-weight:bold;">ReadOnlyExcept</span>[]&dollar;</span>

  refines <span style="color:DarkBlue;">Tokenizer</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParseContext</span>, <span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;</span>

  tokenizer () {
    <span style="font-weight:bold;">return</span> <span style="font-weight:bold;">delegate</span> <span style="color:blue;">-&gt;</span> <span style="color:DarkBlue; font-weight:bold;">&num;self</span>
  }

  tokenizerName () {
    <span style="font-weight:bold;">return</span> <span style="color:DarkGreen; font-weight:bold;">typename</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">&num;self</span><span style="color:BlueViolet;">&gt;</span>().formatted()
  }

  tokenize (input, context) (token) {
    \ input.reset()
    token <span style="color:blue;">&lt;-</span> <span style="color:DarkCyan; font-weight:bold;">empty</span>
    <span style="font-weight:bold;">if</span> (input.atEnd() <span style="color:BlueViolet;">||</span> `<span style="color:DarkGreen; font-weight:bold;">require</span>` input.current() <span style="color:BlueViolet;">!=</span> <span style="color:DarkViolet;">&apos;&dollar;&apos;</span>) {
      <span style="font-weight:bold;">return</span> _
    }
    <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;</span> subsections <span style="color:blue;">&lt;-</span> <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
    token <span style="color:blue;">&lt;-</span> <span style="color:DarkBlue;">ZeoliteParsed</span>.section(<span style="color:green;">label:</span> tokenizerName(), subsections)
    \ subsections.append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeolitePragmaDelim&quot;</span>, <span style="color:green;">content:</span> input.forward().take()))

    <span style="font-weight:bold;">if</span> (<span style="color:BlueViolet;">!</span> `<span style="color:DarkGreen; font-weight:bold;">present</span>` <span style="color:DarkBlue;">ZeoliteSymbol</span>.parseUpperSymbol(input)) {
      <span style="font-weight:bold;">return</span> _
    } <span style="font-weight:bold;">else</span> {
      \ subsections.append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeolitePragmaName&quot;</span>, <span style="color:green;">content:</span> input.take()))
    }

    optional <span style="color:DarkBlue; font-weight:bold;">Char</span> current <span style="color:blue;">&lt;-</span> input.current()
    <span style="font-weight:bold;">if</span> (<span style="color:BlueViolet;">!</span> `<span style="color:DarkGreen; font-weight:bold;">present</span>` current) {
      <span style="font-weight:bold;">return</span> _
    } <span style="font-weight:bold;">elif</span> (`<span style="color:DarkGreen; font-weight:bold;">require</span>` current <span style="color:BlueViolet;">==</span> <span style="color:DarkViolet;">&apos;[&apos;</span>) {
      \ subsections.append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeolitePragmaArgOpen&quot;</span>, <span style="color:green;">content:</span> input.forward().take()))
      <span style="font-weight:bold;">while</span> (`<span style="color:DarkGreen; font-weight:bold;">present</span>` (current <span style="color:blue;">&lt;-</span> input.current()) <span style="color:BlueViolet;">&amp;&amp;</span> `<span style="color:DarkGreen; font-weight:bold;">require</span>` current <span style="color:BlueViolet;">!=</span> <span style="color:DarkViolet;">&apos;]&apos;</span>) {
        \ input.forward()
      }
      \ subsections.append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeolitePragmaArg&quot;</span>, <span style="color:green;">content:</span> input.take()))
      <span style="font-weight:bold;">if</span> (`<span style="color:DarkGreen; font-weight:bold;">present</span>` (current <span style="color:blue;">&lt;-</span> input.current())) {
        \ subsections.append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeolitePragmaArgClose&quot;</span>, <span style="color:green;">content:</span> input.forward().take()))
      } <span style="font-weight:bold;">else</span> {
        <span style="font-weight:bold;">return</span> _
      }
    }

    <span style="font-weight:bold;">if</span> (`<span style="color:DarkGreen; font-weight:bold;">present</span>` (current <span style="color:blue;">&lt;-</span> input.current())) {
      <span style="font-weight:bold;">if</span> (`<span style="color:DarkGreen; font-weight:bold;">require</span>` current <span style="color:BlueViolet;">==</span> <span style="color:DarkViolet;">&apos;&dollar;&apos;</span>) {
        \ subsections.append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeolitePragmaDelim&quot;</span>, <span style="color:green;">content:</span> input.forward().take()))
      } <span style="font-weight:bold;">else</span> {
        \ subsections.append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteError&quot;</span>, <span style="color:green;">content:</span> input.forward().take()))
      }
    }
  }
}

<span style="color:Indigo; font-weight:bold;">define</span> <span style="color:DarkBlue;">ZeoliteExtras</span> {
  refines <span style="color:DarkBlue;">Tokenizer</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParseContext</span>, <span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;</span>

  tokenizer () {
    <span style="font-weight:bold;">return</span> <span style="font-weight:bold;">delegate</span> <span style="color:blue;">-&gt;</span> <span style="color:DarkBlue; font-weight:bold;">&num;self</span>
  }

  tokenizerName () {
    <span style="font-weight:bold;">return</span> <span style="color:DarkGreen; font-weight:bold;">typename</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">&num;self</span><span style="color:BlueViolet;">&gt;</span>().formatted()
  }

  tokenize (input, context) (token) {
    \ input.reset()
    optional <span style="color:DarkBlue; font-weight:bold;">Char</span> current <span style="color:blue;">&lt;-</span> input.current()
    <span style="font-weight:bold;">if</span> (<span style="color:BlueViolet;">!</span> `<span style="color:DarkGreen; font-weight:bold;">present</span>` current) {
      <span style="font-weight:bold;">return</span> <span style="color:DarkCyan; font-weight:bold;">empty</span>
    } <span style="font-weight:bold;">elif</span> (`<span style="color:DarkGreen; font-weight:bold;">require</span>` current <span style="color:BlueViolet;">==</span> <span style="color:DarkViolet;">&apos;_&apos;</span>) {
      \ input.forward()
      <span style="font-weight:bold;">return</span> <span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteIgnore&quot;</span>, <span style="color:green;">content:</span> input.take())
    } <span style="font-weight:bold;">elif</span> (`<span style="color:DarkGreen; font-weight:bold;">require</span>` current <span style="color:BlueViolet;">==</span> <span style="color:DarkViolet;">&apos;<span style="color:DarkMagenta;">\\</span>&apos;</span>) {
      \ input.forward()
      <span style="font-weight:bold;">return</span> <span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteDiscard&quot;</span>, <span style="color:green;">content:</span> input.take())
    } <span style="font-weight:bold;">elif</span> (`<span style="color:DarkGreen; font-weight:bold;">require</span>` current <span style="color:BlueViolet;">==</span> <span style="color:DarkViolet;">&apos;`&apos;</span>) {
      \ input.forward()
      <span style="font-weight:bold;">return</span> <span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteTick&quot;</span>, <span style="color:green;">content:</span> input.take())
    } <span style="font-weight:bold;">elif</span> (`<span style="color:DarkGreen; font-weight:bold;">require</span>` current <span style="color:BlueViolet;">==</span> <span style="color:DarkViolet;">&apos;,&apos;</span>) {
      \ input.forward()
      <span style="font-weight:bold;">return</span> <span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteComma&quot;</span>, <span style="color:green;">content:</span> input.take())
    } <span style="font-weight:bold;">elif</span> (`<span style="color:DarkGreen; font-weight:bold;">require</span>` current `<span style="color:DarkBlue;">CharType</span>.oneOf` <span style="color:DeepPink;">&quot;;&num;@&quot;</span>) {
      \ input.forward()
      <span style="font-weight:bold;">return</span> <span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteError&quot;</span>, <span style="color:green;">content:</span> input.take())
    } <span style="font-weight:bold;">else</span> {
      <span style="font-weight:bold;">return</span> <span style="color:DarkCyan; font-weight:bold;">empty</span>
    }
  }
}

<span style="color:Indigo; font-weight:bold;">define</span> <span style="color:DarkBlue;">ZeoliteTestcase</span> {
  <span style="color:DarkSalmon; font-style:italic;">&dollar;<span style="color:DarkSalmon; font-style:italic; font-weight:bold;">ReadOnlyExcept</span>[]&dollar;</span>

  refines <span style="color:DarkBlue;">Tokenizer</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParseContext</span>, <span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;</span>

  <span style="color:Indigo; font-weight:bold;">@category</span> <span style="color:DarkBlue;">Tokenizer</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParseContext</span>, <span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;</span> testcaseSpecs <span style="color:blue;">&lt;-</span> <span style="color:DarkBlue;">TokenAlternatives</span>.new()
      .append(<span style="color:DarkBlue;">ZeoliteOptionalSeparator</span>.default())
      .append(<span style="color:DarkBlue;">UseNamedTokenizer</span>.new<span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteStringLiteral</span><span style="color:BlueViolet;">&gt;</span>())
      .append(<span style="color:DarkBlue;">UseNamedTokenizer</span>.new<span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteSquareSection</span><span style="color:BlueViolet;">&gt;</span>())
      .append(<span style="color:DarkBlue;">ZeoliteTestcaseKeyword</span>.default())
      .append(<span style="color:DarkBlue;">UseNamedTokenizer</span>.new<span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteUpperSymbol</span><span style="color:BlueViolet;">&gt;</span>())
      .append(<span style="color:DarkBlue;">UseNamedTokenizer</span>.new<span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteLowerSymbol</span><span style="color:BlueViolet;">&gt;</span>())
      .append(<span style="color:DarkBlue;">UseNamedTokenizer</span>.new<span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteNumber</span><span style="color:BlueViolet;">&gt;</span>())
      .append(<span style="color:DarkBlue;">UseNamedTokenizer</span>.new<span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteOperator</span><span style="color:BlueViolet;">&gt;</span>())

  tokenizer () {
    <span style="font-weight:bold;">return</span> <span style="font-weight:bold;">delegate</span> <span style="color:blue;">-&gt;</span> <span style="color:DarkBlue; font-weight:bold;">&num;self</span>
  }

  tokenizerName () {
    <span style="font-weight:bold;">return</span> <span style="color:DarkGreen; font-weight:bold;">typename</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">&num;self</span><span style="color:BlueViolet;">&gt;</span>().formatted()
  }

  tokenize (input, context) (token) {
    <span style="font-weight:bold;">scoped</span> {
      optional <span style="color:DarkBlue; font-weight:bold;">String</span> content <span style="color:blue;">&lt;-</span> <span style="color:DarkBlue;">ZeoliteSymbol</span>.parseLowerSymbol(input)&amp;.preview()
    } <span style="font-weight:bold;">in</span> <span style="font-weight:bold;">if</span> (<span style="color:BlueViolet;">!</span> `<span style="color:DarkGreen; font-weight:bold;">present</span>` content <span style="color:BlueViolet;">||</span> <span style="color:DarkGreen; font-weight:bold;">require</span>(content) <span style="color:BlueViolet;">!=</span> <span style="color:DeepPink;">&quot;testcase&quot;</span>) {
      <span style="font-weight:bold;">return</span> <span style="color:DarkCyan; font-weight:bold;">empty</span>
    }

    <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;</span> subsections <span style="color:blue;">&lt;-</span> <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
    <span style="color:DarkGray; font-style:italic;">// Setting this early still allows building it incrementally while also</span>
    <span style="color:DarkGray; font-style:italic;">// allowing an early return if something is missing.</span>
    token <span style="color:blue;">&lt;-</span> <span style="color:DarkBlue;">ZeoliteParsed</span>.section(<span style="color:green;">label:</span> tokenizerName(), subsections)
    \ subsections.append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteContainKeyword&quot;</span>, <span style="color:green;">content:</span> input.take()))

    \ <span style="color:DarkBlue;">ZeoliteOptionalSeparator</span>.parseAny(input, context, subsections)
    <span style="color:DarkGray; font-style:italic;">// Testcase description string.</span>
    <span style="font-weight:bold;">scoped</span> {
      optional <span style="color:DarkBlue;">ZeoliteParsed</span> name <span style="color:blue;">&lt;-</span> <span style="font-weight:bold;">delegate</span> <span style="color:blue;">-&gt;</span> `<span style="color:DarkBlue;">ZeoliteStringLiteral</span>.tokenizer().tokenize`
    } <span style="font-weight:bold;">in</span> <span style="font-weight:bold;">if</span> (`<span style="color:DarkGreen; font-weight:bold;">present</span>` name) {
      \ subsections.append(`<span style="color:DarkGreen; font-weight:bold;">require</span>` name)
    } <span style="font-weight:bold;">else</span> {
      <span style="font-weight:bold;">return</span> _
    }
    \ <span style="color:DarkBlue;">ZeoliteOptionalSeparator</span>.parseAny(input, context, subsections)

    <span style="color:DarkGray; font-style:italic;">// Testcase specs.</span>
    \ <span style="color:DarkBlue;">StreamTokenizer</span>:new(<span style="color:green;">context:</span> context, <span style="color:green;">tokenizer:</span> <span style="color:DarkBlue;">ZeoliteDelimSection</span>.new(<span style="color:green;">name:</span> <span style="color:DeepPink;">&quot;ZeoliteTestcaseSection&quot;</span>, <span style="color:green;">open:</span> <span style="color:DarkViolet;">&apos;{&apos;</span>, <span style="color:green;">close:</span> <span style="color:DarkViolet;">&apos;}&apos;</span>, testcaseSpecs))
        .tokenizeAll(input, subsections)
  }
}

<span style="color:Indigo; font-weight:bold;">concrete</span> <span style="color:DarkBlue;">ZeoliteOptionalSeparator</span> {
  defines <span style="color:DarkBlue; font-weight:bold;">Default</span>
  refines <span style="color:DarkBlue;">Tokenizer</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParseContext</span>, <span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;</span>

  visibility <span style="color:DarkBlue;">Tokenizer</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParseContext</span>, <span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;</span>

  <span style="color:Indigo; font-weight:bold;">@type</span> parseAny (<span style="color:DarkBlue;">TextStream</span>, <span style="color:DarkBlue;">ZeoliteParseContext</span>, <span style="color:DarkBlue; font-weight:bold;">Append</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;</span>) <span style="color:blue;">-&gt;</span> ()
}

<span style="color:Indigo; font-weight:bold;">define</span> <span style="color:DarkBlue;">ZeoliteOptionalSeparator</span> {
  <span style="color:DarkSalmon; font-style:italic;">&dollar;<span style="color:DarkSalmon; font-style:italic; font-weight:bold;">ReadOnlyExcept</span>[]&dollar;</span>

  <span style="color:Indigo; font-weight:bold;">@category</span> <span style="color:DarkBlue;">Tokenizer</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParseContext</span>, <span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;</span> tokenizer <span style="color:blue;">&lt;-</span> <span style="color:DarkBlue;">TokenAlternatives</span>.new()
      .append(<span style="color:DarkBlue;">UseNamedTokenizer</span>.new<span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteLineComment</span><span style="color:BlueViolet;">&gt;</span>())
      .append(<span style="color:DarkBlue;">UseNamedTokenizer</span>.new<span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteBlockComment</span><span style="color:BlueViolet;">&gt;</span>())
      .append(<span style="color:DarkBlue;">UseNamedTokenizer</span>.new<span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteWhitespace</span><span style="color:BlueViolet;">&gt;</span>())

  parseAny (input, context, output) {
    \ <span style="color:DarkBlue;">StreamTokenizer</span>:new(<span style="color:green;">context:</span> context, <span style="color:green;">tokenizer:</span> default()).tokenizeAll(input, output)
  }

  default () {
    <span style="font-weight:bold;">return</span> <span style="font-weight:bold;">delegate</span> <span style="color:blue;">-&gt;</span> <span style="color:DarkBlue; font-weight:bold;">&num;self</span>
  }

  tokenize (input, output) {
    <span style="font-weight:bold;">return</span> <span style="font-weight:bold;">delegate</span> <span style="color:blue;">-&gt;</span> `tokenizer.tokenize`
  }
}

<span style="color:Indigo; font-weight:bold;">concrete</span> <span style="color:DarkBlue;">ZeoliteDelimSection</span> {
  <span style="color:Indigo; font-weight:bold;">@type</span> new (<span style="color:DarkBlue; font-weight:bold;">String</span> <span style="color:green;">name:</span>, <span style="color:DarkBlue; font-weight:bold;">Char</span> <span style="color:green;">open:</span>, <span style="color:DarkBlue; font-weight:bold;">Char</span> <span style="color:green;">close:</span>, optional <span style="color:DarkBlue;">Tokenizer</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParseContext</span>, <span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;</span>) <span style="color:blue;">-&gt;</span> (<span style="color:DarkBlue;">Tokenizer</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParseContext</span>, <span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;</span>)
}

<span style="color:Indigo; font-weight:bold;">define</span> <span style="color:DarkBlue;">ZeoliteDelimSection</span> {
  <span style="color:DarkSalmon; font-style:italic;">&dollar;<span style="color:DarkSalmon; font-style:italic; font-weight:bold;">ReadOnlyExcept</span>[]&dollar;</span>

  refines <span style="color:DarkBlue;">Tokenizer</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParseContext</span>, <span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;</span>

  <span style="color:Indigo; font-weight:bold;">@value</span> <span style="color:DarkBlue; font-weight:bold;">String</span> name
  <span style="color:Indigo; font-weight:bold;">@value</span> <span style="color:DarkBlue; font-weight:bold;">Char</span> open
  <span style="color:Indigo; font-weight:bold;">@value</span> <span style="color:DarkBlue; font-weight:bold;">Char</span> close
  <span style="color:Indigo; font-weight:bold;">@value</span> optional <span style="color:DarkBlue;">Tokenizer</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParseContext</span>, <span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;</span> tokenizer

  new (name, open, close, tokenizer) {
    <span style="font-weight:bold;">return</span> <span style="font-weight:bold;">delegate</span> <span style="color:blue;">-&gt;</span> <span style="color:DarkBlue; font-weight:bold;">&num;self</span>
  }

  tokenize (input, context) (token) {
    \ input.reset()
    token <span style="color:blue;">&lt;-</span> <span style="color:DarkCyan; font-weight:bold;">empty</span>
    <span style="font-weight:bold;">if</span> (input.atEnd() <span style="color:BlueViolet;">||</span> `<span style="color:DarkGreen; font-weight:bold;">require</span>` input.current() <span style="color:BlueViolet;">!=</span> open) {
      <span style="font-weight:bold;">return</span> _
    }
    <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;</span> subsections <span style="color:blue;">&lt;-</span> <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
    token <span style="color:blue;">&lt;-</span> <span style="color:DarkBlue;">ZeoliteParsed</span>.section(<span style="color:green;">label:</span> name, subsections)
    \ subsections.append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteOpenDelim&quot;</span>, <span style="color:green;">content:</span> input.forward().take()))

    \ <span style="color:DarkBlue;">StreamTokenizer</span>:new(<span style="color:green;">context:</span> context, <span style="color:green;">tokenizer:</span> tokenizer <span style="color:BlueViolet;">&lt;||</span> context.defaultTokenizer()).tokenizeAll(input, subsections)
    \ input.reset()
    <span style="font-weight:bold;">if</span> (<span style="color:BlueViolet;">!</span>input.atEnd() <span style="color:BlueViolet;">&amp;&amp;</span> `<span style="color:DarkGreen; font-weight:bold;">require</span>` input.current() <span style="color:BlueViolet;">==</span> close) {
      \ subsections.append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteCloseDelim&quot;</span>, <span style="color:green;">content:</span> input.forward().take()))
    }
  }
}
</pre>
<h2>example/highlighter/test/tokenizer.0rt</h2>
<pre style="background:#fafffa;">
<span style="color:DarkGray; font-style:italic;">/* -----------------------------------------------------------------------------
Copyright 2024 Kevin P. Barry

Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
----------------------------------------------------------------------------- */</span>

<span style="color:DarkGray; font-style:italic;">// Author: Kevin P. Barry [ta0kira@gmail.com]</span>

<span style="background:PaleTurquoise;"><span style="color:Indigo; font-weight:bold;">testcase</span> <span style="color:DeepPink;">&quot;input tests&quot;</span> {
  <span style="color:green;">success</span> <span style="color:DarkBlue;">TestChecker</span>
}</span>

<span style="color:Indigo; font-weight:bold;">unittest</span> integration {
  <span style="color:DarkBlue;">TextStream</span> input <span style="color:blue;">&lt;-</span> <span style="color:DarkBlue;">TextStream</span>.new(<span style="color:DeepPink;">&quot;123<span style="color:DarkMagenta;">\n</span>4&quot;</span>)

  \ input.atEnd() `<span style="color:DarkBlue;">Matches</span>:with` <span style="color:DarkBlue;">CheckValue</span>:equals(<span style="color:DarkCyan; font-weight:bold;">false</span>)
  \ input.current() `<span style="color:DarkBlue;">Matches</span>:with` <span style="color:DarkBlue;">CheckValue</span>:equals(<span style="color:DarkViolet;">&apos;1&apos;</span>)
  \ input.preview() `<span style="color:DarkBlue;">Matches</span>:with` <span style="color:DarkBlue;">CheckValue</span>:equals(<span style="color:DeepPink;">&quot;&quot;</span>)
  \ input.currentLine() `<span style="color:DarkBlue;">Matches</span>:with` <span style="color:DarkBlue;">CheckValue</span>:equals(<span style="color:GoldenRod;">1</span>)
  \ input.currentChar() `<span style="color:DarkBlue;">Matches</span>:with` <span style="color:DarkBlue;">CheckValue</span>:equals(<span style="color:GoldenRod;">1</span>)

  \ input.forward().forward()
  \ input.atEnd() `<span style="color:DarkBlue;">Matches</span>:with` <span style="color:DarkBlue;">CheckValue</span>:equals(<span style="color:DarkCyan; font-weight:bold;">false</span>)
  \ input.current() `<span style="color:DarkBlue;">Matches</span>:with` <span style="color:DarkBlue;">CheckValue</span>:equals(<span style="color:DarkViolet;">&apos;3&apos;</span>)
  \ input.preview() `<span style="color:DarkBlue;">Matches</span>:with` <span style="color:DarkBlue;">CheckValue</span>:equals(<span style="color:DeepPink;">&quot;12&quot;</span>)
  \ input.currentLine() `<span style="color:DarkBlue;">Matches</span>:with` <span style="color:DarkBlue;">CheckValue</span>:equals(<span style="color:GoldenRod;">1</span>)
  \ input.currentChar() `<span style="color:DarkBlue;">Matches</span>:with` <span style="color:DarkBlue;">CheckValue</span>:equals(<span style="color:GoldenRod;">1</span>)

  \ input.take() `<span style="color:DarkBlue;">Matches</span>:with` <span style="color:DarkBlue;">CheckValue</span>:equals(<span style="color:DeepPink;">&quot;12&quot;</span>)
  \ input.atEnd() `<span style="color:DarkBlue;">Matches</span>:with` <span style="color:DarkBlue;">CheckValue</span>:equals(<span style="color:DarkCyan; font-weight:bold;">false</span>)
  \ input.current() `<span style="color:DarkBlue;">Matches</span>:with` <span style="color:DarkBlue;">CheckValue</span>:equals(<span style="color:DarkViolet;">&apos;3&apos;</span>)
  \ input.preview() `<span style="color:DarkBlue;">Matches</span>:with` <span style="color:DarkBlue;">CheckValue</span>:equals(<span style="color:DeepPink;">&quot;&quot;</span>)
  \ input.currentLine() `<span style="color:DarkBlue;">Matches</span>:with` <span style="color:DarkBlue;">CheckValue</span>:equals(<span style="color:GoldenRod;">1</span>)
  \ input.currentChar() `<span style="color:DarkBlue;">Matches</span>:with` <span style="color:DarkBlue;">CheckValue</span>:equals(<span style="color:GoldenRod;">3</span>)

  \ input.forward().forward()
  \ input.atEnd() `<span style="color:DarkBlue;">Matches</span>:with` <span style="color:DarkBlue;">CheckValue</span>:equals(<span style="color:DarkCyan; font-weight:bold;">false</span>)
  \ input.current() `<span style="color:DarkBlue;">Matches</span>:with` <span style="color:DarkBlue;">CheckValue</span>:equals(<span style="color:DarkViolet;">&apos;4&apos;</span>)
  \ input.preview() `<span style="color:DarkBlue;">Matches</span>:with` <span style="color:DarkBlue;">CheckValue</span>:equals(<span style="color:DeepPink;">&quot;3<span style="color:DarkMagenta;">\n</span>&quot;</span>)

  \ input.reset()
  \ input.atEnd() `<span style="color:DarkBlue;">Matches</span>:with` <span style="color:DarkBlue;">CheckValue</span>:equals(<span style="color:DarkCyan; font-weight:bold;">false</span>)
  \ input.current() `<span style="color:DarkBlue;">Matches</span>:with` <span style="color:DarkBlue;">CheckValue</span>:equals(<span style="color:DarkViolet;">&apos;3&apos;</span>)
  \ input.preview() `<span style="color:DarkBlue;">Matches</span>:with` <span style="color:DarkBlue;">CheckValue</span>:equals(<span style="color:DeepPink;">&quot;&quot;</span>)
  \ input.currentLine() `<span style="color:DarkBlue;">Matches</span>:with` <span style="color:DarkBlue;">CheckValue</span>:equals(<span style="color:GoldenRod;">1</span>)
  \ input.currentChar() `<span style="color:DarkBlue;">Matches</span>:with` <span style="color:DarkBlue;">CheckValue</span>:equals(<span style="color:GoldenRod;">3</span>)

  \ input.forward().forward().forward()
  \ input.atEnd() `<span style="color:DarkBlue;">Matches</span>:with` <span style="color:DarkBlue;">CheckValue</span>:equals(<span style="color:DarkCyan; font-weight:bold;">false</span>)
  \ input.current() `<span style="color:DarkBlue;">Matches</span>:with` <span style="color:DarkBlue;">CheckValue</span>:equals(<span style="color:DarkCyan; font-weight:bold;">empty</span>?<span style="color:DarkBlue; font-weight:bold;">Char</span>)
  \ input.preview() `<span style="color:DarkBlue;">Matches</span>:with` <span style="color:DarkBlue;">CheckValue</span>:equals(<span style="color:DeepPink;">&quot;3<span style="color:DarkMagenta;">\n</span>4&quot;</span>)

  \ input.take() `<span style="color:DarkBlue;">Matches</span>:with` <span style="color:DarkBlue;">CheckValue</span>:equals(<span style="color:DeepPink;">&quot;3<span style="color:DarkMagenta;">\n</span>4&quot;</span>)
  \ input.atEnd() `<span style="color:DarkBlue;">Matches</span>:with` <span style="color:DarkBlue;">CheckValue</span>:equals(<span style="color:DarkCyan; font-weight:bold;">true</span>)
  \ input.currentLine() `<span style="color:DarkBlue;">Matches</span>:with` <span style="color:DarkBlue;">CheckValue</span>:equals(<span style="color:GoldenRod;">2</span>)
  \ input.currentChar() `<span style="color:DarkBlue;">Matches</span>:with` <span style="color:DarkBlue;">CheckValue</span>:equals(<span style="color:GoldenRod;">2</span>)
}
</pre>
<h2>example/highlighter/test/zeolite-tokenizing.0rt</h2>
<pre style="background:#fafffa;">
<span style="color:DarkGray; font-style:italic;">/* -----------------------------------------------------------------------------
Copyright 2023-2024 Kevin P. Barry

Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
----------------------------------------------------------------------------- */</span>

<span style="color:DarkGray; font-style:italic;">// Author: Kevin P. Barry [ta0kira@gmail.com]</span>

<span style="background:PaleTurquoise;"><span style="color:Indigo; font-weight:bold;">testcase</span> <span style="color:DeepPink;">&quot;parsing tests&quot;</span> {
  <span style="color:green;">success</span> <span style="color:DarkBlue;">TestChecker</span>
}</span>

<span style="color:Indigo; font-weight:bold;">concrete</span> <span style="color:DarkBlue;">ParsingTester</span> {
  <span style="color:Indigo; font-weight:bold;">@type</span> new (<span style="color:DarkBlue;">ZeoliteParseContext</span>) <span style="color:blue;">-&gt;</span> (<span style="color:DarkBlue;">ParsingTester</span>)

  <span style="color:Indigo; font-weight:bold;">@value</span> checkParsesAs (<span style="color:DarkBlue; font-weight:bold;">String</span>, <span style="color:DarkBlue;">DefaultOrder</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;</span>) <span style="color:blue;">-&gt;</span> ()
}

<span style="color:Indigo; font-weight:bold;">unittest</span> parseZeoliteWhitespace {
  <span style="color:DarkBlue;">ParsingTester</span> tester <span style="color:blue;">&lt;-</span> <span style="color:DarkBlue;">ParsingTester</span>.new(<span style="color:DarkBlue;">ZeoliteParseContext</span>.new()
      .include<span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteWhitespace</span><span style="color:BlueViolet;">&gt;</span>())

  \ <span style="color:DeepPink;">&quot; <span style="color:DarkMagenta;">\t</span> <span style="color:DarkMagenta;">\r</span><span style="color:DarkMagenta;">\n</span>&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteWhitespace&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot; <span style="color:DarkMagenta;">\t</span> <span style="color:DarkMagenta;">\r</span><span style="color:DarkMagenta;">\n</span>&quot;</span>))

  \ <span style="color:DeepPink;">&quot;   test&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteWhitespace&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;   &quot;</span>))
}

<span style="color:Indigo; font-weight:bold;">unittest</span> parseZeoliteLineComment {
  <span style="color:DarkBlue;">ParsingTester</span> tester <span style="color:blue;">&lt;-</span> <span style="color:DarkBlue;">ParsingTester</span>.new(<span style="color:DarkBlue;">ZeoliteParseContext</span>.new()
      .include<span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteLineComment</span><span style="color:BlueViolet;">&gt;</span>()
      .include<span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteWhitespace</span><span style="color:BlueViolet;">&gt;</span>())

  \ <span style="color:DeepPink;">&quot;//12345<span style="color:DarkMagenta;">\n</span>//54321&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteLineComment&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;//12345&quot;</span>))
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteWhitespace&quot;</span>,  <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;<span style="color:DarkMagenta;">\n</span>&quot;</span>))
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteLineComment&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;//54321&quot;</span>))

  \ <span style="color:DeepPink;">&quot;/ /&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">AlwaysEmpty</span>.default()
}

<span style="color:Indigo; font-weight:bold;">unittest</span> parseZeoliteBlockComment {
  <span style="color:DarkBlue;">ParsingTester</span> tester <span style="color:blue;">&lt;-</span> <span style="color:DarkBlue;">ParsingTester</span>.new(<span style="color:DarkBlue;">ZeoliteParseContext</span>.new()
      .include<span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteBlockComment</span><span style="color:BlueViolet;">&gt;</span>()
      .include<span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteWhitespace</span><span style="color:BlueViolet;">&gt;</span>())

  \ <span style="color:DeepPink;">&quot;/*/12345<span style="color:DarkMagenta;">\n</span>54321* */&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteBlockComment&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;/*/12345<span style="color:DarkMagenta;">\n</span>54321* */&quot;</span>))

  \ <span style="color:DeepPink;">&quot;/*comment*/  &quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteBlockComment&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;/*comment*/&quot;</span>))
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteWhitespace&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;  &quot;</span>))
  \ <span style="color:DeepPink;">&quot;/*forever &quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteBlockComment&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;/*forever &quot;</span>))

  \ <span style="color:DeepPink;">&quot;/ *&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">AlwaysEmpty</span>.default()
}

<span style="color:Indigo; font-weight:bold;">unittest</span> parseZeoliteUpperSymbol {
  <span style="color:DarkBlue;">ParsingTester</span> tester <span style="color:blue;">&lt;-</span> <span style="color:DarkBlue;">ParsingTester</span>.new(<span style="color:DarkBlue;">ZeoliteParseContext</span>.new()
      .include<span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteUpperSymbol</span><span style="color:BlueViolet;">&gt;</span>())

  \ <span style="color:DeepPink;">&quot;Hello123&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteCategoryName&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;Hello123&quot;</span>))
  \ <span style="color:DeepPink;">&quot;String&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteBuiltinCategory&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;String&quot;</span>))

  \ <span style="color:DeepPink;">&quot;Hello_123&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteCategoryName&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;Hello&quot;</span>))

  \ <span style="color:DeepPink;">&quot;hello&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">AlwaysEmpty</span>.default()
  \ <span style="color:DeepPink;">&quot;123Hello&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">AlwaysEmpty</span>.default()
}

<span style="color:Indigo; font-weight:bold;">unittest</span> parseZeoliteLowerSymbol {
  <span style="color:DarkBlue;">ParsingTester</span> tester <span style="color:blue;">&lt;-</span> <span style="color:DarkBlue;">ParsingTester</span>.new(<span style="color:DarkBlue;">ZeoliteParseContext</span>.new()
      .include<span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteLowerSymbol</span><span style="color:BlueViolet;">&gt;</span>())

  \ <span style="color:DeepPink;">&quot;hello123&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteFunctionOrVariableName&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;hello123&quot;</span>))
  \ <span style="color:DeepPink;">&quot;hello123:&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteArgLabel&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;hello123:&quot;</span>))
  \ <span style="color:DeepPink;">&quot;cleanup&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteControlKeyword&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;cleanup&quot;</span>))
  \ <span style="color:DeepPink;">&quot;immutable&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteTypeKeyword&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;immutable&quot;</span>))
  \ <span style="color:DeepPink;">&quot;concrete&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteContainKeyword&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;concrete&quot;</span>))
  \ <span style="color:DeepPink;">&quot;optional&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteStorageKeyword&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;optional&quot;</span>))
  \ <span style="color:DeepPink;">&quot;unittest&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteScopeQualifier&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;unittest&quot;</span>))
  \ <span style="color:DeepPink;">&quot;any&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteBuiltinCategory&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;any&quot;</span>))
  \ <span style="color:DeepPink;">&quot;identify&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteBuiltinFunction&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;identify&quot;</span>))
  \ <span style="color:DeepPink;">&quot;empty&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteBuiltinConstant&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;empty&quot;</span>))

  \ <span style="color:DeepPink;">&quot;hello_123&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteFunctionOrVariableName&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;hello&quot;</span>))
  <span style="color:DarkGray; font-style:italic;">// Only has a special label in testcase.</span>
  \ <span style="color:DeepPink;">&quot;compiler&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteFunctionOrVariableName&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;compiler&quot;</span>))
  \ <span style="color:DeepPink;">&quot;empty123&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteFunctionOrVariableName&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;empty123&quot;</span>))
  \ <span style="color:DeepPink;">&quot;identify:&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteBuiltinFunction&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;identify&quot;</span>))

  \ <span style="color:DeepPink;">&quot;Hello&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">AlwaysEmpty</span>.default()
  \ <span style="color:DeepPink;">&quot;123hello&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">AlwaysEmpty</span>.default()
}

<span style="color:Indigo; font-weight:bold;">unittest</span> parseZeoliteScopeQualifier {
  <span style="color:DarkBlue;">ParsingTester</span> tester <span style="color:blue;">&lt;-</span> <span style="color:DarkBlue;">ParsingTester</span>.new(<span style="color:DarkBlue;">ZeoliteParseContext</span>.new()
      .include<span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteScopeQualifier</span><span style="color:BlueViolet;">&gt;</span>())

  \ <span style="color:DeepPink;">&quot;@value&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteScopeQualifier&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;@value&quot;</span>))
  \ <span style="color:DeepPink;">&quot;@type&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteScopeQualifier&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;@type&quot;</span>))
  \ <span style="color:DeepPink;">&quot;@category&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteScopeQualifier&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;@category&quot;</span>))

  \ <span style="color:DeepPink;">&quot;@value something&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteScopeQualifier&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;@value&quot;</span>))
  \ <span style="color:DeepPink;">&quot;@local&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteError&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;@local&quot;</span>))
}

<span style="color:Indigo; font-weight:bold;">unittest</span> parseZeoliteOperator {
  <span style="color:DarkBlue;">ParsingTester</span> tester <span style="color:blue;">&lt;-</span> <span style="color:DarkBlue;">ParsingTester</span>.new(<span style="color:DarkBlue;">ZeoliteParseContext</span>.new()
      .include<span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteOperator</span><span style="color:BlueViolet;">&gt;</span>())

  \ <span style="color:DeepPink;">&quot;&lt;-&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteAssignment&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;&lt;-&quot;</span>))
  \ <span style="color:DeepPink;">&quot;&lt;-|&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteAssignment&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;&lt;-|&quot;</span>))
  \ <span style="color:DeepPink;">&quot;&lt;-&gt;&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteAssignment&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;&lt;-&gt;&quot;</span>))
  \ <span style="color:DeepPink;">&quot;-&gt;&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteAssignment&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;-&gt;&quot;</span>))
  \ <span style="color:DeepPink;">&quot;:&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteFunctionCall&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;:&quot;</span>))
  \ <span style="color:DeepPink;">&quot;.&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteFunctionCall&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;.&quot;</span>))
  \ <span style="color:DeepPink;">&quot;&amp;.&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteFunctionCall&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;&amp;.&quot;</span>))
  \ <span style="color:DeepPink;">&quot;?&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteFunctionCall&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;?&quot;</span>))
  \ <span style="color:DeepPink;">&quot;&lt;&lt;&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteOperator&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;&lt;&lt;&quot;</span>))
  \ <span style="color:DeepPink;">&quot;:.!&percnt;^&amp;*-+|&lt;&gt;?=&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteOperator&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;:.!&percnt;^&amp;*-+|&lt;&gt;?=&quot;</span>))

  \ <span style="color:DeepPink;">&quot;&lt;-||&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteOperator&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;&lt;-||&quot;</span>))
  \ <span style="color:DeepPink;">&quot;&amp;.call()&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteFunctionCall&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;&amp;.&quot;</span>))
}

<span style="color:Indigo; font-weight:bold;">unittest</span> parseZeoliteParamName {
  <span style="color:DarkBlue;">ParsingTester</span> tester <span style="color:blue;">&lt;-</span> <span style="color:DarkBlue;">ParsingTester</span>.new(<span style="color:DarkBlue;">ZeoliteParseContext</span>.new()
      .include<span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParamName</span><span style="color:BlueViolet;">&gt;</span>())

  \ <span style="color:DeepPink;">&quot;&num;param123&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteParamName&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;&num;param123&quot;</span>))
  \ <span style="color:DeepPink;">&quot;&num;self&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteBuiltinParam&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;&num;self&quot;</span>))

  \ <span style="color:DeepPink;">&quot;&num;param_123&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteParamName&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;&num;param&quot;</span>))
  \ <span style="color:DeepPink;">&quot;&num;self123&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteParamName&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;&num;self123&quot;</span>))

  \ <span style="color:DeepPink;">&quot;param&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">AlwaysEmpty</span>.default()
  \ <span style="color:DeepPink;">&quot;&num;Param&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">AlwaysEmpty</span>.default()
  \ <span style="color:DeepPink;">&quot;&num;123param&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">AlwaysEmpty</span>.default()
}

<span style="color:Indigo; font-weight:bold;">unittest</span> parseZeoliteStringLiteral {
  <span style="color:DarkBlue;">ParsingTester</span> tester <span style="color:blue;">&lt;-</span> <span style="color:DarkBlue;">ParsingTester</span>.new(<span style="color:DarkBlue;">ZeoliteParseContext</span>.new()
      .include<span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteStringLiteral</span><span style="color:BlueViolet;">&gt;</span>())

  \ <span style="color:DeepPink;">&quot;<span style="color:DarkMagenta;">\&quot;</span>hello<span style="color:DarkMagenta;">\\</span>n<span style="color:DarkMagenta;">\\</span>t<span style="color:DarkMagenta;">\\</span>0123<span style="color:DarkMagenta;">\\</span>xABC<span style="color:DarkMagenta;">\\</span>Q <span style="color:DarkMagenta;">\\</span>09c goodbye<span style="color:DarkMagenta;">\&quot;</span>&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.section(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteStringLiteral&quot;</span>, <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteDoubleQuote&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;<span style="color:DarkMagenta;">\&quot;</span>&quot;</span>))
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteQuotedChars&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;hello&quot;</span>))
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteEscapedChar&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;<span style="color:DarkMagenta;">\\</span>n&quot;</span>))
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteEscapedChar&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;<span style="color:DarkMagenta;">\\</span>t&quot;</span>))
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteEscapedChar&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;<span style="color:DarkMagenta;">\\</span>012&quot;</span>))
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteQuotedChars&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;3&quot;</span>))
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteEscapedChar&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;<span style="color:DarkMagenta;">\\</span>xAB&quot;</span>))
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteQuotedChars&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;C&quot;</span>))
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteError&quot;</span>,       <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;<span style="color:DarkMagenta;">\\</span>Q&quot;</span>))
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteQuotedChars&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot; &quot;</span>))
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteError&quot;</span>,       <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;<span style="color:DarkMagenta;">\\</span>0&quot;</span>))
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteQuotedChars&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;9c goodbye&quot;</span>))
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteDoubleQuote&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;<span style="color:DarkMagenta;">\&quot;</span>&quot;</span>))))

  \ <span style="color:DeepPink;">&quot;<span style="color:DarkMagenta;">\&quot;</span>forever&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.section(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteStringLiteral&quot;</span>, <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteDoubleQuote&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;<span style="color:DarkMagenta;">\&quot;</span>&quot;</span>))
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteQuotedChars&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;forever&quot;</span>))))
}

<span style="color:Indigo; font-weight:bold;">unittest</span> parseZeoliteCharLiteral {
  <span style="color:DarkBlue;">ParsingTester</span> tester <span style="color:blue;">&lt;-</span> <span style="color:DarkBlue;">ParsingTester</span>.new(<span style="color:DarkBlue;">ZeoliteParseContext</span>.new()
      .include<span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteCharLiteral</span><span style="color:BlueViolet;">&gt;</span>())

  \ <span style="color:DeepPink;">&quot;&apos;a&apos;&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.section(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteCharLiteral&quot;</span>, <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteSingleQuote&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;&apos;&quot;</span>))
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteQuotedChars&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;a&quot;</span>))
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteSingleQuote&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;&apos;&quot;</span>))))
  \ <span style="color:DeepPink;">&quot;&apos;<span style="color:DarkMagenta;">\\</span>&apos;&apos;&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.section(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteCharLiteral&quot;</span>, <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteSingleQuote&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;&apos;&quot;</span>))
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteEscapedChar&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;<span style="color:DarkMagenta;">\\</span>&apos;&quot;</span>))
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteSingleQuote&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;&apos;&quot;</span>))))
  \ <span style="color:DeepPink;">&quot;&apos;<span style="color:DarkMagenta;">\\</span>n&apos;&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.section(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteCharLiteral&quot;</span>, <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteSingleQuote&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;&apos;&quot;</span>))
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteEscapedChar&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;<span style="color:DarkMagenta;">\\</span>n&quot;</span>))
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteSingleQuote&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;&apos;&quot;</span>))))
  \ <span style="color:DeepPink;">&quot;&apos;<span style="color:DarkMagenta;">\\</span>xAB&apos;&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.section(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteCharLiteral&quot;</span>, <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteSingleQuote&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;&apos;&quot;</span>))
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteEscapedChar&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;<span style="color:DarkMagenta;">\\</span>xAB&quot;</span>))
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteSingleQuote&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;&apos;&quot;</span>))))
  \ <span style="color:DeepPink;">&quot;&apos;<span style="color:DarkMagenta;">\\</span>Q&apos;&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.section(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteCharLiteral&quot;</span>, <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteSingleQuote&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;&apos;&quot;</span>))
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteError&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;<span style="color:DarkMagenta;">\\</span>Q&quot;</span>))
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteSingleQuote&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;&apos;&quot;</span>))))

  \ <span style="color:DeepPink;">&quot;&apos;&apos;&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.section(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteCharLiteral&quot;</span>, <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteSingleQuote&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;&apos;&quot;</span>))
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteError&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;&apos;&quot;</span>))))
  \ <span style="color:DeepPink;">&quot;&apos;forever&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.section(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteCharLiteral&quot;</span>, <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteSingleQuote&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;&apos;&quot;</span>))
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteQuotedChars&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;f&quot;</span>))
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteError&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;o&quot;</span>))))
}

<span style="color:Indigo; font-weight:bold;">unittest</span> parseZeoliteNumber {
  <span style="color:DarkBlue;">ParsingTester</span> tester <span style="color:blue;">&lt;-</span> <span style="color:DarkBlue;">ParsingTester</span>.new(<span style="color:DarkBlue;">ZeoliteParseContext</span>.new()
      .include<span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteNumber</span><span style="color:BlueViolet;">&gt;</span>())

  \ <span style="color:DeepPink;">&quot;123&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteNumber&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;123&quot;</span>))
  \ <span style="color:DeepPink;">&quot;123.456&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteNumber&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;123.456&quot;</span>))
  \ <span style="color:DeepPink;">&quot;123.456E123&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteNumber&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;123.456E123&quot;</span>))
  \ <span style="color:DeepPink;">&quot;+123&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteNumber&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;+123&quot;</span>))
  \ <span style="color:DeepPink;">&quot;-123&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteNumber&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;-123&quot;</span>))
  \ <span style="color:DeepPink;">&quot;123.456E+123&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteNumber&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;123.456E+123&quot;</span>))
  \ <span style="color:DeepPink;">&quot;123.456E-123&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteNumber&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;123.456E-123&quot;</span>))

  \ <span style="color:DeepPink;">&quot;<span style="color:DarkMagenta;">\\</span>b101.010&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteEscapedNumber&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;<span style="color:DarkMagenta;">\\</span>b101.010&quot;</span>))
  \ <span style="color:DeepPink;">&quot;<span style="color:DarkMagenta;">\\</span>o123.456&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteEscapedNumber&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;<span style="color:DarkMagenta;">\\</span>o123.456&quot;</span>))
  \ <span style="color:DeepPink;">&quot;<span style="color:DarkMagenta;">\\</span>d123.456&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteEscapedNumber&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;<span style="color:DarkMagenta;">\\</span>d123.456&quot;</span>))
  \ <span style="color:DeepPink;">&quot;<span style="color:DarkMagenta;">\\</span>x123.abc&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteEscapedNumber&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;<span style="color:DarkMagenta;">\\</span>x123.abc&quot;</span>))

  \ <span style="color:DeepPink;">&quot;123A&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteNumber&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;123&quot;</span>))
  \ <span style="color:DeepPink;">&quot;<span style="color:DarkMagenta;">\\</span>b0123&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteEscapedNumber&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;<span style="color:DarkMagenta;">\\</span>b01&quot;</span>))
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteNumber&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;23&quot;</span>))
  \ <span style="color:DeepPink;">&quot;<span style="color:DarkMagenta;">\\</span>o12389&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteEscapedNumber&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;<span style="color:DarkMagenta;">\\</span>o123&quot;</span>))
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteNumber&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;89&quot;</span>))
  \ <span style="color:DeepPink;">&quot;<span style="color:DarkMagenta;">\\</span>d123A&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteEscapedNumber&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;<span style="color:DarkMagenta;">\\</span>d123&quot;</span>))
  \ <span style="color:DeepPink;">&quot;<span style="color:DarkMagenta;">\\</span>xABCqq&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteEscapedNumber&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;<span style="color:DarkMagenta;">\\</span>xABC&quot;</span>))

  \ <span style="color:DeepPink;">&quot;-&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">AlwaysEmpty</span>.default()
  \ <span style="color:DeepPink;">&quot;+&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">AlwaysEmpty</span>.default()
  \ <span style="color:DeepPink;">&quot;<span style="color:DarkMagenta;">\\</span>&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">AlwaysEmpty</span>.default()
  \ <span style="color:DeepPink;">&quot;<span style="color:DarkMagenta;">\\</span>b&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">AlwaysEmpty</span>.default()
  \ <span style="color:DeepPink;">&quot;<span style="color:DarkMagenta;">\\</span>o&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">AlwaysEmpty</span>.default()
  \ <span style="color:DeepPink;">&quot;<span style="color:DarkMagenta;">\\</span>d&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">AlwaysEmpty</span>.default()
  \ <span style="color:DeepPink;">&quot;<span style="color:DarkMagenta;">\\</span>h&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">AlwaysEmpty</span>.default()
}

<span style="color:Indigo; font-weight:bold;">unittest</span> parseZeoliteBraceSection {
  <span style="color:DarkBlue;">ParsingTester</span> tester <span style="color:blue;">&lt;-</span> <span style="color:DarkBlue;">ParsingTester</span>.new(<span style="color:DarkBlue;">ZeoliteParseContext</span>.new()
      .include<span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteBlockComment</span><span style="color:BlueViolet;">&gt;</span>()
      .include<span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteBraceSection</span><span style="color:BlueViolet;">&gt;</span>()
      .include<span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteWhitespace</span><span style="color:BlueViolet;">&gt;</span>())

  \ <span style="color:DeepPink;">&quot;{ /*hello*/ }&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.section(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteBraceSection&quot;</span>, <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteOpenDelim&quot;</span>,    <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;{&quot;</span>))
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteWhitespace&quot;</span>,   <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot; &quot;</span>))
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteBlockComment&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;/*hello*/&quot;</span>))
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteWhitespace&quot;</span>,   <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot; &quot;</span>))
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteCloseDelim&quot;</span>,   <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;}&quot;</span>))))

  \ <span style="color:DeepPink;">&quot;{ /*forever*/&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.section(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteBraceSection&quot;</span>, <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteOpenDelim&quot;</span>,    <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;{&quot;</span>))
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteWhitespace&quot;</span>,   <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot; &quot;</span>))
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteBlockComment&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;/*forever*/&quot;</span>))))
}

<span style="color:Indigo; font-weight:bold;">unittest</span> parseZeoliteParenSection {
  <span style="color:DarkBlue;">ParsingTester</span> tester <span style="color:blue;">&lt;-</span> <span style="color:DarkBlue;">ParsingTester</span>.new(<span style="color:DarkBlue;">ZeoliteParseContext</span>.new()
      .include<span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteBlockComment</span><span style="color:BlueViolet;">&gt;</span>()
      .include<span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParenSection</span><span style="color:BlueViolet;">&gt;</span>()
      .include<span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteWhitespace</span><span style="color:BlueViolet;">&gt;</span>())

  \ <span style="color:DeepPink;">&quot;( /*hello*/ )&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.section(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteParenSection&quot;</span>, <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteOpenDelim&quot;</span>,    <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;(&quot;</span>))
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteWhitespace&quot;</span>,   <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot; &quot;</span>))
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteBlockComment&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;/*hello*/&quot;</span>))
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteWhitespace&quot;</span>,   <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot; &quot;</span>))
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteCloseDelim&quot;</span>,   <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;)&quot;</span>))))

  \ <span style="color:DeepPink;">&quot;( /*forever*/&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.section(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteParenSection&quot;</span>, <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteOpenDelim&quot;</span>,    <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;(&quot;</span>))
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteWhitespace&quot;</span>,   <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot; &quot;</span>))
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteBlockComment&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;/*forever*/&quot;</span>))))
}

<span style="color:Indigo; font-weight:bold;">unittest</span> parseZeoliteSquareSection {
  <span style="color:DarkBlue;">ParsingTester</span> tester <span style="color:blue;">&lt;-</span> <span style="color:DarkBlue;">ParsingTester</span>.new(<span style="color:DarkBlue;">ZeoliteParseContext</span>.new()
      .include<span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteBlockComment</span><span style="color:BlueViolet;">&gt;</span>()
      .include<span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteSquareSection</span><span style="color:BlueViolet;">&gt;</span>()
      .include<span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteWhitespace</span><span style="color:BlueViolet;">&gt;</span>())

  \ <span style="color:DeepPink;">&quot;[ /*hello*/ ]&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.section(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteSquareSection&quot;</span>, <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteOpenDelim&quot;</span>,    <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;[&quot;</span>))
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteWhitespace&quot;</span>,   <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot; &quot;</span>))
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteBlockComment&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;/*hello*/&quot;</span>))
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteWhitespace&quot;</span>,   <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot; &quot;</span>))
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteCloseDelim&quot;</span>,   <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;]&quot;</span>))))

  \ <span style="color:DeepPink;">&quot;[ /*forever*/&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.section(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteSquareSection&quot;</span>, <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteOpenDelim&quot;</span>,    <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;[&quot;</span>))
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteWhitespace&quot;</span>,   <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot; &quot;</span>))
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteBlockComment&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;/*forever*/&quot;</span>))))
}

<span style="color:Indigo; font-weight:bold;">unittest</span> parseZeoliteTestcase {
  <span style="color:DarkBlue;">ParsingTester</span> tester <span style="color:blue;">&lt;-</span> <span style="color:DarkBlue;">ParsingTester</span>.new(<span style="color:DarkBlue;">ZeoliteParseContext</span>.new()
      .include<span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteWhitespace</span><span style="color:BlueViolet;">&gt;</span>()
      .include<span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteLineComment</span><span style="color:BlueViolet;">&gt;</span>()
      .include<span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteBlockComment</span><span style="color:BlueViolet;">&gt;</span>()
      .include<span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteStringLiteral</span><span style="color:BlueViolet;">&gt;</span>()
      .include<span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteSquareSection</span><span style="color:BlueViolet;">&gt;</span>()
      .include<span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteNumber</span><span style="color:BlueViolet;">&gt;</span>()
      .include<span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteOperator</span><span style="color:BlueViolet;">&gt;</span>()
      <span style="color:DarkGray; font-style:italic;">// ZeoliteTestcase also uses the above if available.</span>
      .include<span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteTestcase</span><span style="color:BlueViolet;">&gt;</span>()
      <span style="color:DarkGray; font-style:italic;">// These should be after ZeoliteTestcase.</span>
      .include<span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteUpperSymbol</span><span style="color:BlueViolet;">&gt;</span>()
      .include<span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteLowerSymbol</span><span style="color:BlueViolet;">&gt;</span>())

  <span style="color:DarkBlue; font-weight:bold;">String</span> data <span style="color:blue;">&lt;-</span> <span style="color:DeepPink;">&quot;testcase <span style="color:DarkMagenta;">\&quot;</span>my test<span style="color:DarkMagenta;">\&quot;</span> {
    success Checker&lt;[A&amp;B]&gt;  // &lt;- enables lib/testing support
    require compiler <span style="color:DarkMagenta;">\&quot;</span>something<span style="color:DarkMagenta;">\&quot;</span>
    timeout 30
  }&quot;</span>

  \ data `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.section(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteTestcase&quot;</span>, <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteContainKeyword&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;testcase&quot;</span>))
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteWhitespace&quot;</span>,     <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot; &quot;</span>))
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.section(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteStringLiteral&quot;</span>, <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
              .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteDoubleQuote&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;<span style="color:DarkMagenta;">\&quot;</span>&quot;</span>))
              .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteQuotedChars&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;my test&quot;</span>))
              .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteDoubleQuote&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;<span style="color:DarkMagenta;">\&quot;</span>&quot;</span>))))
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteWhitespace&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot; &quot;</span>))
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.section(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteTestcaseSection&quot;</span>, <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
              .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteOpenDelim&quot;</span>,       <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;{&quot;</span>))
              .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteWhitespace&quot;</span>,      <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;<span style="color:DarkMagenta;">\n</span>    &quot;</span>))
              .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteTestcaseKeyword&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;success&quot;</span>))
              .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteWhitespace&quot;</span>,      <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot; &quot;</span>))
              .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteCategoryName&quot;</span>,    <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;Checker&quot;</span>))
              .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteOperator&quot;</span>,        <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;&lt;&quot;</span>))
              .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.section(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteSquareSection&quot;</span>, <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
                    .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteOpenDelim&quot;</span>,    <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;[&quot;</span>))
                    .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteCategoryName&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;A&quot;</span>))
                    .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteOperator&quot;</span>,     <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;&amp;&quot;</span>))
                    .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteCategoryName&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;B&quot;</span>))
                    .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteCloseDelim&quot;</span>,   <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;]&quot;</span>))))
              .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteOperator&quot;</span>,        <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;&gt;&quot;</span>))
              .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteWhitespace&quot;</span>,      <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;  &quot;</span>))
              .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteLineComment&quot;</span>,     <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;// &lt;- enables lib/testing support&quot;</span>))
              .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteWhitespace&quot;</span>,      <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;<span style="color:DarkMagenta;">\n</span>    &quot;</span>))
              .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteTestcaseKeyword&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;require&quot;</span>))
              .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteWhitespace&quot;</span>,      <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot; &quot;</span>))
              .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteTestcaseKeyword&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;compiler&quot;</span>))
              .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteWhitespace&quot;</span>,      <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot; &quot;</span>))
              .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.section(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteStringLiteral&quot;</span>, <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
                  .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteDoubleQuote&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;<span style="color:DarkMagenta;">\&quot;</span>&quot;</span>))
                  .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteQuotedChars&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;something&quot;</span>))
                  .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteDoubleQuote&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;<span style="color:DarkMagenta;">\&quot;</span>&quot;</span>))))
              .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteWhitespace&quot;</span>,      <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;<span style="color:DarkMagenta;">\n</span>    &quot;</span>))
              .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteTestcaseKeyword&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;timeout&quot;</span>))
              .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteWhitespace&quot;</span>,      <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot; &quot;</span>))
              .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteNumber&quot;</span>,          <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;30&quot;</span>))
              .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteWhitespace&quot;</span>,      <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;<span style="color:DarkMagenta;">\n</span>  &quot;</span>))
              .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteCloseDelim&quot;</span>,      <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;}&quot;</span>))))))

  \ <span style="color:DeepPink;">&quot;testcase { }&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.section(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteTestcase&quot;</span>, <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteContainKeyword&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;testcase&quot;</span>))
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteWhitespace&quot;</span>,     <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot; &quot;</span>))))
}

<span style="color:Indigo; font-weight:bold;">unittest</span> parseZeolitePragma {
  <span style="color:DarkBlue;">ParsingTester</span> tester <span style="color:blue;">&lt;-</span> <span style="color:DarkBlue;">ParsingTester</span>.new(<span style="color:DarkBlue;">ZeoliteParseContext</span>.new()
      .include<span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeolitePragma</span><span style="color:BlueViolet;">&gt;</span>())

  \ <span style="color:DeepPink;">&quot;&dollar;NoArgs&dollar;&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.section(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeolitePragma&quot;</span>, <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeolitePragmaDelim&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;&dollar;&quot;</span>))
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeolitePragmaName&quot;</span>,  <span style="color:green;">content:</span>  <span style="color:DeepPink;">&quot;NoArgs&quot;</span>))
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeolitePragmaDelim&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;&dollar;&quot;</span>))))
  \ <span style="color:DeepPink;">&quot;&dollar;SomeArgs[a, b, 123]&dollar;&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.section(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeolitePragma&quot;</span>, <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeolitePragmaDelim&quot;</span>,    <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;&dollar;&quot;</span>))
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeolitePragmaName&quot;</span>,     <span style="color:green;">content:</span>  <span style="color:DeepPink;">&quot;SomeArgs&quot;</span>))
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeolitePragmaArgOpen&quot;</span>,  <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;[&quot;</span>))
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeolitePragmaArg&quot;</span>,      <span style="color:green;">content:</span>  <span style="color:DeepPink;">&quot;a, b, 123&quot;</span>))
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeolitePragmaArgClose&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;]&quot;</span>))
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeolitePragmaDelim&quot;</span>,    <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;&dollar;&quot;</span>))))

  \ <span style="color:DeepPink;">&quot;&dollar;NoArgs&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.section(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeolitePragma&quot;</span>, <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeolitePragmaDelim&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;&dollar;&quot;</span>))
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeolitePragmaName&quot;</span>,  <span style="color:green;">content:</span>  <span style="color:DeepPink;">&quot;NoArgs&quot;</span>))))
  \ <span style="color:DeepPink;">&quot;&dollar;foo&dollar;&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.section(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeolitePragma&quot;</span>, <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeolitePragmaDelim&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;&dollar;&quot;</span>))))
  \ <span style="color:DeepPink;">&quot;&dollar;NoArgs&num;&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.section(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeolitePragma&quot;</span>, <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeolitePragmaDelim&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;&dollar;&quot;</span>))
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeolitePragmaName&quot;</span>,  <span style="color:green;">content:</span>  <span style="color:DeepPink;">&quot;NoArgs&quot;</span>))
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteError&quot;</span>,       <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;&num;&quot;</span>))))
  \ <span style="color:DeepPink;">&quot;&dollar;SomeArgs[args&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.section(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeolitePragma&quot;</span>, <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeolitePragmaDelim&quot;</span>,    <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;&dollar;&quot;</span>))
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeolitePragmaName&quot;</span>,     <span style="color:green;">content:</span>  <span style="color:DeepPink;">&quot;SomeArgs&quot;</span>))
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeolitePragmaArgOpen&quot;</span>,  <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;[&quot;</span>))
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeolitePragmaArg&quot;</span>,      <span style="color:green;">content:</span>  <span style="color:DeepPink;">&quot;args&quot;</span>))))
}

<span style="color:Indigo; font-weight:bold;">unittest</span> parseZeoliteExtras {
  <span style="color:DarkBlue;">ParsingTester</span> tester <span style="color:blue;">&lt;-</span> <span style="color:DarkBlue;">ParsingTester</span>.new(<span style="color:DarkBlue;">ZeoliteParseContext</span>.new()
      .include<span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteExtras</span><span style="color:BlueViolet;">&gt;</span>())

  \ <span style="color:DeepPink;">&quot;_&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteIgnore&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;_&quot;</span>))
  \ <span style="color:DeepPink;">&quot;<span style="color:DarkMagenta;">\\</span>&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteDiscard&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;<span style="color:DarkMagenta;">\\</span>&quot;</span>))
  \ <span style="color:DeepPink;">&quot;`&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteTick&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;`&quot;</span>))
  \ <span style="color:DeepPink;">&quot;,&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteComma&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;,&quot;</span>))
  \ <span style="color:DeepPink;">&quot;;&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteError&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;;&quot;</span>))
  \ <span style="color:DeepPink;">&quot;&num;&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteError&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;&num;&quot;</span>))
  \ <span style="color:DeepPink;">&quot;@&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteError&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;@&quot;</span>))
}

<span style="color:Indigo; font-weight:bold;">unittest</span> integration {
  <span style="color:DarkBlue;">ParsingTester</span> tester <span style="color:blue;">&lt;-</span> <span style="color:DarkBlue;">ParsingTester</span>.new(<span style="color:DarkBlue;">ZeoliteParseContext</span>.new()
      .include<span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteWhitespace</span><span style="color:BlueViolet;">&gt;</span>()
      .include<span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteLineComment</span><span style="color:BlueViolet;">&gt;</span>()
      .include<span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteBlockComment</span><span style="color:BlueViolet;">&gt;</span>()
      .include<span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeolitePragma</span><span style="color:BlueViolet;">&gt;</span>()
      .include<span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteStringLiteral</span><span style="color:BlueViolet;">&gt;</span>()
      .include<span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteCharLiteral</span><span style="color:BlueViolet;">&gt;</span>()
      .include<span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteTestcase</span><span style="color:BlueViolet;">&gt;</span>()
      .include<span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteUpperSymbol</span><span style="color:BlueViolet;">&gt;</span>()
      .include<span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteLowerSymbol</span><span style="color:BlueViolet;">&gt;</span>()
      .include<span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParamName</span><span style="color:BlueViolet;">&gt;</span>()
      .include<span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteBraceSection</span><span style="color:BlueViolet;">&gt;</span>())

  \ <span style="color:DeepPink;">&quot;{Category &num;param}<span style="color:DarkMagenta;">\&quot;</span>string<span style="color:DarkMagenta;">\\</span>n<span style="color:DarkMagenta;">\&quot;</span> /*/ done*/<span style="color:DarkMagenta;">\n</span>&quot;</span> `tester.checkParsesAs` <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.section(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteBraceSection&quot;</span>, <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteOpenDelim&quot;</span>,    <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;{&quot;</span>))
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteCategoryName&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;Category&quot;</span>))
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteWhitespace&quot;</span>,   <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot; &quot;</span>))
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteParamName&quot;</span>,    <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;&num;param&quot;</span>))
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteCloseDelim&quot;</span>,   <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;}&quot;</span>))))
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.section(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteStringLiteral&quot;</span>, <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteDoubleQuote&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;<span style="color:DarkMagenta;">\&quot;</span>&quot;</span>))
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteQuotedChars&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;string&quot;</span>))
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteEscapedChar&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;<span style="color:DarkMagenta;">\\</span>n&quot;</span>))
          .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteDoubleQuote&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;<span style="color:DarkMagenta;">\&quot;</span>&quot;</span>))))
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteWhitespace&quot;</span>,   <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot; &quot;</span>))
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteBlockComment&quot;</span>, <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;/*/ done*/&quot;</span>))
      .append(<span style="color:DarkBlue;">ZeoliteParsed</span>.leaf(<span style="color:green;">label:</span> <span style="color:DeepPink;">&quot;ZeoliteWhitespace&quot;</span>,   <span style="color:green;">content:</span> <span style="color:DeepPink;">&quot;<span style="color:DarkMagenta;">\n</span>&quot;</span>))
}

<span style="color:Indigo; font-weight:bold;">define</span> <span style="color:DarkBlue;">ParsingTester</span> {
  <span style="color:DarkSalmon; font-style:italic;">&dollar;<span style="color:DarkSalmon; font-style:italic; font-weight:bold;">ReadOnlyExcept</span>[]&dollar;</span>

  <span style="color:Indigo; font-weight:bold;">@value</span> <span style="color:DarkBlue;">ZeoliteParseContext</span> context

  new (context) {
    <span style="font-weight:bold;">return</span> <span style="font-weight:bold;">delegate</span> <span style="color:blue;">-&gt;</span> <span style="color:DarkBlue; font-weight:bold;">&num;self</span>
  }

  checkParsesAs (originalData, expected) {
    <span style="color:DarkBlue;">TextStream</span> input <span style="color:blue;">&lt;-</span> <span style="color:DarkBlue;">TextStream</span>.new(originalData)
    <span style="color:DarkBlue;">DefaultOrder</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;</span> output <span style="color:blue;">&lt;-</span> <span style="font-weight:bold;">defer</span>
    \ <span style="color:DarkBlue;">StreamTokenizer</span>:new(<span style="color:green;">context:</span> context, <span style="color:green;">tokenizer:</span> context.defaultTokenizer())
        .tokenizeAll(input, (output <span style="color:blue;">&lt;-</span> <span style="color:DarkBlue;">Vector</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue;">ZeoliteParsed</span><span style="color:BlueViolet;">&gt;.</span>new()))

    <span style="color:DarkGray; font-style:italic;">// Match output.</span>
    \ output `<span style="color:DarkBlue;">Matches</span>:tryWith` <span style="color:DarkBlue;">CheckSequence</span>:matches(<span style="color:DarkBlue;">CheckSequence</span>:using(expected))

    <span style="color:DarkGray; font-style:italic;">// Serialize output.</span>
    [<span style="color:DarkBlue; font-weight:bold;">Append</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">Formatted</span><span style="color:BlueViolet;">&gt;</span> <span style="color:BlueViolet;">&amp;</span> <span style="color:DarkBlue; font-weight:bold;">Build</span><span style="color:BlueViolet;">&lt;</span><span style="color:DarkBlue; font-weight:bold;">String</span><span style="color:BlueViolet;">&gt;</span>] builder <span style="color:blue;">&lt;-</span> <span style="color:DarkBlue; font-weight:bold;">String</span>.builder()
    <span style="color:DarkBlue;">UnformattedFormatter</span> formatter <span style="color:blue;">&lt;-</span> <span style="color:DarkBlue;">UnformattedFormatter</span>.new()
    <span style="font-weight:bold;">traverse</span> (output.defaultOrder() <span style="color:blue;">-&gt;</span> <span style="color:DarkBlue;">ZeoliteParsed</span> parsed) {
      \ builder.append(parsed.formatWith(formatter))
    }

    <span style="color:DarkGray; font-style:italic;">// Append unparsed remainder.</span>
    <span style="font-weight:bold;">while</span> (`<span style="color:DarkGreen; font-weight:bold;">present</span>` input.current()) {
      \ input.forward()
    }
    <span style="color:DarkGray; font-style:italic;">// This will be included in the output of failing tests.</span>
    \ <span style="color:DarkBlue;">BasicOutput</span>.stderr()
        .append(<span style="color:DeepPink;">&quot;Remaining content: <span style="color:DarkMagenta;">\&quot;</span>&quot;</span>)
        .append(<span style="color:DarkBlue;">CharType</span>.escapeBreaks(input.preview()))
        .append(<span style="color:DeepPink;">&quot;<span style="color:DarkMagenta;">\&quot;</span><span style="color:DarkMagenta;">\n</span>&quot;</span>)
    \ builder.append(input.take())

    <span style="color:DarkGray; font-style:italic;">// Check that all data is accounted for.</span>
    \ builder.build() `<span style="color:DarkBlue;">Matches</span>:tryWith` <span style="color:DarkBlue;">CheckValue</span>:equals(originalData)
  }
}
</pre>
</body></html>