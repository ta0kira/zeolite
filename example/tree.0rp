@value interface TreeWriter<#k,#v|> {
  set (#k,#v) -> (TreeWriter<#k,#v>)
  remove (#k) -> (TreeWriter<#k,#v>)
}

@value interface TreeReader<#k|#v> {
  get (#k) -> (optional #v)
}

concrete Tree<#k|#v|> {
  refines TreeWriter<#k,#v>
  refines TreeReader<#k,#v>
  #k defines LessThan<#k>

  @type new () -> (Tree<#k,#v>)

  @value set (#k,#v) -> (Tree<#k,#v>)
  @value remove (#k) -> (Tree<#k,#v>)
}
